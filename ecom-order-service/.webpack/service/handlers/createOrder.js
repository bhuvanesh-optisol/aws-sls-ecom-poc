(()=>{var oe={9879:(E,b,s)=>{"use strict";s.r(b),s.d(b,{notificationService:()=>c});var a=s(5049),o=s.n(a);const h=s(9336),g=new h.SQS;async function c(n,e,t){console.log("user.email",t.email,n);try{let i,r;switch(n){case 1:i="Your order was successfully placed",r="Order details";break;case 2:i="Your order was processing by the seller",r="Your Order was successfully processed by the company. Sit back and relax on the shipping. Will notify once shipped";break;case 3:i="Your order was successfully shipped",r="Company has shipped the order and will reach you soon";break;case 4:i="Your order was successfully delivered",r="Enjoy the hassle shipping and chill with order";break;case 5:i="Your order was undelivered",r="Due to the some shipping issues, your order was undelivered. Wait for next action by us";break;case 6:i="Your order was cancelled",r="You cancelled the order. Sorry. Will meet you on next time";break;case 7:i="Your order was cancelled by the company",r="Due to the some shipping issues, your order was cancelled by the company. Wait for next action by us";break;case 8:i="Your return was confirmed",r="Company has accepeted the return. Sit back and relax on the next step";break;default:}const u=await g.sendMessage({QueueUrl:"https://sqs.us-west-1.amazonaws.com/441836939852/ecom-notification-poc-dev-MailQueue-YfMfoMxTY1SD",MessageBody:JSON.stringify({subject:i,body:r,recipient:t.email})}).promise();return{statusCode:200,body:JSON.stringify(u)}}catch(i){return{statusCode:500,body:JSON.stringify(i)}}}},6727:(E,b,s)=>{"use strict";s.r(b),s.d(b,{validateCompanyJWTToken:()=>t,validateJWTToken:()=>e});var a=s(5049),o=s.n(a);const h=s(1662),g=s(9336),c=new g.DynamoDB.DocumentClient,n="0a6b944d-d2fb-46fc-a85e-0295c986cd9f",e={before:async(i,r)=>{try{if(i.event.headers.Authorization){const[f,p]=i.event.headers.Authorization.split(" ");if(f.toLowerCase()!=="jwt")return{statusCode:403,message:"Invalid headers"};{const v=h.verify(p,n),{userId:w}=v.sub,S=(await c.get({TableName:"UsersTable",Key:{id:w}}).promise()).Item;if(S){if(i.event.user=S,i.event.body){const{restaurant_id:y}=JSON.parse(i.event.body);if(y){var u={TableName:"ProductsTable",ExpressionAttributeNames:{"#restaurant_id":"restaurant_id"},ExpressionAttributeValues:{":restaurantIdValue":y},FilterExpression:"#restaurant_id=:restaurantIdValue"};const d=await c.scan(u).promise();i.event.companyProducts=d.Items}}r()}else return{statusCode:401,message:"UNAUTHORIZED"}}}else return{statusCode:403,message:"Access forbidden"}}catch(f){return{statusCode:401,message:"Unauthorized",body:f}}}},t={before:async(i,r)=>{try{if(i.event.headers.Authorization){const[u,f]=i.event.headers.Authorization.split(" ");if(u.toLowerCase()!=="jwt")return{statusCode:403,message:"Invalid headers"};{const p=h.verify(f,n);console.log("decoded.sub",p.sub);const{userId:v}=p.sub,A=(await c.get({TableName:"CompanyTable",Key:{id:v}}).promise()).Item;if(A)i.event.user=A;else return{statusCode:401,message:"UNAUTHORIZED"}}r()}else return{statusCode:403,message:"Access forbidden"}}catch(u){return{statusCode:401,message:"Unauthorized",body:u}}}}},9180:(E,b,s)=>{"use strict";var a=s(4300).Buffer,o=s(4300).SlowBuffer;E.exports=h;function h(n,e){if(!a.isBuffer(n)||!a.isBuffer(e)||n.length!==e.length)return!1;for(var t=0,i=0;i<n.length;i++)t|=n[i]^e[i];return t===0}h.install=function(){a.prototype.equal=o.prototype.equal=function(e){return h(this,e)}};var g=a.prototype.equal,c=o.prototype.equal;h.restore=function(){a.prototype.equal=g,o.prototype.equal=c}},5358:E=>{var b=Object.prototype.toString,s=typeof Buffer<"u"&&typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function a(c){return b.call(c).slice(8,-1)==="ArrayBuffer"}function o(c,n,e){n>>>=0;var t=c.byteLength-n;if(t<0)throw new RangeError("'offset' is out of bounds");if(e===void 0)e=t;else if(e>>>=0,e>t)throw new RangeError("'length' is out of bounds");return s?Buffer.from(c.slice(n,n+e)):new Buffer(new Uint8Array(c.slice(n,n+e)))}function h(c,n){if((typeof n!="string"||n==="")&&(n="utf8"),!Buffer.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');return s?Buffer.from(c,n):new Buffer(c,n)}function g(c,n,e){if(typeof c=="number")throw new TypeError('"value" argument must not be a number');return a(c)?o(c,n,e):typeof c=="string"?h(c,n):s?Buffer.from(c):new Buffer(c)}E.exports=g},7512:(E,b,s)=>{"use strict";var a=s(6873).Buffer,o=s(553),h=128,g=0,c=32,n=16,e=2,t=n|c|g<<6,i=e|g<<6;function r(w){return w.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function u(w){if(a.isBuffer(w))return w;if(typeof w=="string")return a.from(w,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function f(w,A){w=u(w);var S=o(A),y=S+1,d=w.length,l=0;if(w[l++]!==t)throw new Error('Could not find expected "seq"');var m=w[l++];if(m===(h|1)&&(m=w[l++]),d-l<m)throw new Error('"seq" specified length of "'+m+'", only "'+(d-l)+'" remaining');if(w[l++]!==i)throw new Error('Could not find expected "int" for "r"');var x=w[l++];if(d-l-2<x)throw new Error('"r" specified length of "'+x+'", only "'+(d-l-2)+'" available');if(y<x)throw new Error('"r" specified length of "'+x+'", max of "'+y+'" is acceptable');var R=l;if(l+=x,w[l++]!==i)throw new Error('Could not find expected "int" for "s"');var M=w[l++];if(d-l!==M)throw new Error('"s" specified length of "'+M+'", expected "'+(d-l)+'"');if(y<M)throw new Error('"s" specified length of "'+M+'", max of "'+y+'" is acceptable');var N=l;if(l+=M,l!==d)throw new Error('Expected to consume entire buffer, but "'+(d-l)+'" bytes remain');var U=S-x,J=S-M,H=a.allocUnsafe(U+x+J+M);for(l=0;l<U;++l)H[l]=0;w.copy(H,l,R+Math.max(-U,0),R+x),l=S;for(var _=l;l<_+J;++l)H[l]=0;return w.copy(H,l,N+Math.max(-J,0),N+M),H=H.toString("base64"),H=r(H),H}function p(w,A,S){for(var y=0;A+y<S&&w[A+y]===0;)++y;var d=w[A+y]>=h;return d&&--y,y}function v(w,A){w=u(w);var S=o(A),y=w.length;if(y!==S*2)throw new TypeError('"'+A+'" signatures must be "'+S*2+'" bytes, saw "'+y+'"');var d=p(w,0,S),l=p(w,S,w.length),m=S-d,x=S-l,R=1+1+m+1+1+x,M=R<h,N=a.allocUnsafe((M?2:3)+R),U=0;return N[U++]=t,M?N[U++]=R:(N[U++]=h|1,N[U++]=R&255),N[U++]=i,N[U++]=m,d<0?(N[U++]=0,U+=w.copy(N,U,0,S)):U+=w.copy(N,U,d,S),N[U++]=i,N[U++]=x,l<0?(N[U++]=0,w.copy(N,U,S)):w.copy(N,U,S+l),N}E.exports={derToJose:f,joseToDer:v}},553:E=>{"use strict";function b(o){var h=(o/8|0)+(o%8===0?0:1);return h}var s={ES256:b(256),ES384:b(384),ES512:b(521)};function a(o){var h=s[o];if(h)return h;throw new Error('Unknown algorithm "'+o+'"')}E.exports=a},6957:(E,b,s)=>{var a=s(693);E.exports=function(o,h){h=h||{};var g=a.decode(o,h);if(!g)return null;var c=g.payload;if(typeof c=="string")try{var n=JSON.parse(c);n!==null&&typeof n=="object"&&(c=n)}catch{}return h.complete===!0?{header:g.header,payload:c,signature:g.signature}:c}},1662:(E,b,s)=>{E.exports={decode:s(6957),verify:s(7324),sign:s(7532),JsonWebTokenError:s(3204),NotBeforeError:s(7522),TokenExpiredError:s(5620)}},3204:E=>{var b=function(s,a){Error.call(this,s),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=s,a&&(this.inner=a)};b.prototype=Object.create(Error.prototype),b.prototype.constructor=b,E.exports=b},7522:(E,b,s)=>{var a=s(3204),o=function(h,g){a.call(this,h),this.name="NotBeforeError",this.date=g};o.prototype=Object.create(a.prototype),o.prototype.constructor=o,E.exports=o},5620:(E,b,s)=>{var a=s(3204),o=function(h,g){a.call(this,h),this.name="TokenExpiredError",this.expiredAt=g};o.prototype=Object.create(a.prototype),o.prototype.constructor=o,E.exports=o},9837:(E,b,s)=>{const a=s(2839);E.exports=a.satisfies(process.version,">=15.7.0")},3285:(E,b,s)=>{var a=s(2839);E.exports=a.satisfies(process.version,"^6.12.0 || >=8.0.0")},5383:(E,b,s)=>{const a=s(2839);E.exports=a.satisfies(process.version,">=16.9.0")},871:(E,b,s)=>{var a=s(5404);E.exports=function(o,h){var g=h||Math.floor(Date.now()/1e3);if(typeof o=="string"){var c=a(o);return typeof c>"u"?void 0:Math.floor(g+c/1e3)}else return typeof o=="number"?g+o:void 0}},3786:(E,b,s)=>{const a=s(9837),o=s(5383),h={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},g={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};E.exports=function(c,n){if(!c||!n)return;const e=n.asymmetricKeyType;if(!e)return;const t=h[e];if(!t)throw new Error(`Unknown key type "${e}".`);if(!t.includes(c))throw new Error(`"alg" parameter for "${e}" key type must be one of: ${t.join(", ")}.`);if(a)switch(e){case"ec":const i=n.asymmetricKeyDetails.namedCurve,r=g[c];if(i!==r)throw new Error(`"alg" parameter "${c}" requires curve "${r}".`);break;case"rsa-pss":if(o){const u=parseInt(c.slice(-3),10),{hashAlgorithm:f,mgf1HashAlgorithm:p,saltLength:v}=n.asymmetricKeyDetails;if(f!==`sha${u}`||p!==f)throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${c}.`);if(v!==void 0&&v>u>>3)throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${c}.`)}break}}},5558:(E,b,s)=>{"use strict";const a=s(7006),o=Symbol("max"),h=Symbol("length"),g=Symbol("lengthCalculator"),c=Symbol("allowStale"),n=Symbol("maxAge"),e=Symbol("dispose"),t=Symbol("noDisposeOnSet"),i=Symbol("lruList"),r=Symbol("cache"),u=Symbol("updateAgeOnGet"),f=()=>1;class p{constructor(m){if(typeof m=="number"&&(m={max:m}),m||(m={}),m.max&&(typeof m.max!="number"||m.max<0))throw new TypeError("max must be a non-negative number");const x=this[o]=m.max||1/0,R=m.length||f;if(this[g]=typeof R!="function"?f:R,this[c]=m.stale||!1,m.maxAge&&typeof m.maxAge!="number")throw new TypeError("maxAge must be a number");this[n]=m.maxAge||0,this[e]=m.dispose,this[t]=m.noDisposeOnSet||!1,this[u]=m.updateAgeOnGet||!1,this.reset()}set max(m){if(typeof m!="number"||m<0)throw new TypeError("max must be a non-negative number");this[o]=m||1/0,A(this)}get max(){return this[o]}set allowStale(m){this[c]=!!m}get allowStale(){return this[c]}set maxAge(m){if(typeof m!="number")throw new TypeError("maxAge must be a non-negative number");this[n]=m,A(this)}get maxAge(){return this[n]}set lengthCalculator(m){typeof m!="function"&&(m=f),m!==this[g]&&(this[g]=m,this[h]=0,this[i].forEach(x=>{x.length=this[g](x.value,x.key),this[h]+=x.length})),A(this)}get lengthCalculator(){return this[g]}get length(){return this[h]}get itemCount(){return this[i].length}rforEach(m,x){x=x||this;for(let R=this[i].tail;R!==null;){const M=R.prev;d(this,m,R,x),R=M}}forEach(m,x){x=x||this;for(let R=this[i].head;R!==null;){const M=R.next;d(this,m,R,x),R=M}}keys(){return this[i].toArray().map(m=>m.key)}values(){return this[i].toArray().map(m=>m.value)}reset(){this[e]&&this[i]&&this[i].length&&this[i].forEach(m=>this[e](m.key,m.value)),this[r]=new Map,this[i]=new a,this[h]=0}dump(){return this[i].map(m=>w(this,m)?!1:{k:m.key,v:m.value,e:m.now+(m.maxAge||0)}).toArray().filter(m=>m)}dumpLru(){return this[i]}set(m,x,R){if(R=R||this[n],R&&typeof R!="number")throw new TypeError("maxAge must be a number");const M=R?Date.now():0,N=this[g](x,m);if(this[r].has(m)){if(N>this[o])return S(this,this[r].get(m)),!1;const H=this[r].get(m).value;return this[e]&&(this[t]||this[e](m,H.value)),H.now=M,H.maxAge=R,H.value=x,this[h]+=N-H.length,H.length=N,this.get(m),A(this),!0}const U=new y(m,x,N,M,R);return U.length>this[o]?(this[e]&&this[e](m,x),!1):(this[h]+=U.length,this[i].unshift(U),this[r].set(m,this[i].head),A(this),!0)}has(m){if(!this[r].has(m))return!1;const x=this[r].get(m).value;return!w(this,x)}get(m){return v(this,m,!0)}peek(m){return v(this,m,!1)}pop(){const m=this[i].tail;return m?(S(this,m),m.value):null}del(m){S(this,this[r].get(m))}load(m){this.reset();const x=Date.now();for(let R=m.length-1;R>=0;R--){const M=m[R],N=M.e||0;if(N===0)this.set(M.k,M.v);else{const U=N-x;U>0&&this.set(M.k,M.v,U)}}}prune(){this[r].forEach((m,x)=>v(this,x,!1))}}const v=(l,m,x)=>{const R=l[r].get(m);if(R){const M=R.value;if(w(l,M)){if(S(l,R),!l[c])return}else x&&(l[u]&&(R.value.now=Date.now()),l[i].unshiftNode(R));return M.value}},w=(l,m)=>{if(!m||!m.maxAge&&!l[n])return!1;const x=Date.now()-m.now;return m.maxAge?x>m.maxAge:l[n]&&x>l[n]},A=l=>{if(l[h]>l[o])for(let m=l[i].tail;l[h]>l[o]&&m!==null;){const x=m.prev;S(l,m),m=x}},S=(l,m)=>{if(m){const x=m.value;l[e]&&l[e](x.key,x.value),l[h]-=x.length,l[r].delete(x.key),l[i].removeNode(m)}};class y{constructor(m,x,R,M,N){this.key=m,this.value=x,this.length=R,this.now=M,this.maxAge=N||0}}const d=(l,m,x,R)=>{let M=x.value;w(l,M)&&(S(l,x),l[c]||(M=void 0)),M&&m.call(R,M.value,M.key,l)};E.exports=p},3698:(E,b,s)=>{const a=Symbol("SemVer ANY");class o{static get ANY(){return a}constructor(u,f){if(f=h(f),u instanceof o){if(u.loose===!!f.loose)return u;u=u.value}u=u.trim().split(/\s+/).join(" "),e("comparator",u,f),this.options=f,this.loose=!!f.loose,this.parse(u),this.semver===a?this.value="":this.value=this.operator+this.semver.version,e("comp",this)}parse(u){const f=this.options.loose?g[c.COMPARATORLOOSE]:g[c.COMPARATOR],p=u.match(f);if(!p)throw new TypeError(`Invalid comparator: ${u}`);this.operator=p[1]!==void 0?p[1]:"",this.operator==="="&&(this.operator=""),p[2]?this.semver=new t(p[2],this.options.loose):this.semver=a}toString(){return this.value}test(u){if(e("Comparator.test",u,this.options.loose),this.semver===a||u===a)return!0;if(typeof u=="string")try{u=new t(u,this.options)}catch{return!1}return n(u,this.operator,this.semver,this.options)}intersects(u,f){if(!(u instanceof o))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new i(u.value,f).test(this.value):u.operator===""?u.value===""?!0:new i(this.value,f).test(u.semver):(f=h(f),f.includePrerelease&&(this.value==="<0.0.0-0"||u.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||u.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&u.operator.startsWith(">")||this.operator.startsWith("<")&&u.operator.startsWith("<")||this.semver.version===u.semver.version&&this.operator.includes("=")&&u.operator.includes("=")||n(this.semver,"<",u.semver,f)&&this.operator.startsWith(">")&&u.operator.startsWith("<")||n(this.semver,">",u.semver,f)&&this.operator.startsWith("<")&&u.operator.startsWith(">")))}}E.exports=o;const h=s(9826),{safeRe:g,t:c}=s(6437),n=s(7437),e=s(2984),t=s(876),i=s(5474)},5474:(E,b,s)=>{class a{constructor(T,P){if(P=g(P),T instanceof a)return T.loose===!!P.loose&&T.includePrerelease===!!P.includePrerelease?T:new a(T.raw,P);if(T instanceof c)return this.raw=T.value,this.set=[[T]],this.format(),this;if(this.options=P,this.loose=!!P.loose,this.includePrerelease=!!P.includePrerelease,this.raw=T.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(B=>this.parseRange(B.trim())).filter(B=>B.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const B=this.set[0];if(this.set=this.set.filter(F=>!w(F[0])),this.set.length===0)this.set=[B];else if(this.set.length>1){for(const F of this.set)if(F.length===1&&A(F[0])){this.set=[F];break}}}this.format()}format(){return this.range=this.set.map(T=>T.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(T){const B=((this.options.includePrerelease&&p)|(this.options.loose&&v))+":"+T,F=h.get(B);if(F)return F;const V=this.options.loose,I=V?t[i.HYPHENRANGELOOSE]:t[i.HYPHENRANGE];T=T.replace(I,H(this.options.includePrerelease)),n("hyphen replace",T),T=T.replace(t[i.COMPARATORTRIM],r),n("comparator trim",T),T=T.replace(t[i.TILDETRIM],u),n("tilde trim",T),T=T.replace(t[i.CARETTRIM],f),n("caret trim",T);let C=T.split(" ").map(G=>y(G,this.options)).join(" ").split(/\s+/).map(G=>J(G,this.options));V&&(C=C.filter(G=>(n("loose invalid filter",G,this.options),!!G.match(t[i.COMPARATORLOOSE])))),n("range list",C);const j=new Map,L=C.map(G=>new c(G,this.options));for(const G of L){if(w(G))return[G];j.set(G.value,G)}j.size>1&&j.has("")&&j.delete("");const D=[...j.values()];return h.set(B,D),D}intersects(T,P){if(!(T instanceof a))throw new TypeError("a Range is required");return this.set.some(B=>S(B,P)&&T.set.some(F=>S(F,P)&&B.every(V=>F.every(I=>V.intersects(I,P)))))}test(T){if(!T)return!1;if(typeof T=="string")try{T=new e(T,this.options)}catch{return!1}for(let P=0;P<this.set.length;P++)if(_(this.set[P],T,this.options))return!0;return!1}}E.exports=a;const o=s(5558),h=new o({max:1e3}),g=s(9826),c=s(3698),n=s(2984),e=s(876),{safeRe:t,t:i,comparatorTrimReplace:r,tildeTrimReplace:u,caretTrimReplace:f}=s(6437),{FLAG_INCLUDE_PRERELEASE:p,FLAG_LOOSE:v}=s(5803),w=$=>$.value==="<0.0.0-0",A=$=>$.value==="",S=($,T)=>{let P=!0;const B=$.slice();let F=B.pop();for(;P&&B.length;)P=B.every(V=>F.intersects(V,T)),F=B.pop();return P},y=($,T)=>(n("comp",$,T),$=x($,T),n("caret",$),$=l($,T),n("tildes",$),$=M($,T),n("xrange",$),$=U($,T),n("stars",$),$),d=$=>!$||$.toLowerCase()==="x"||$==="*",l=($,T)=>$.trim().split(/\s+/).map(P=>m(P,T)).join(" "),m=($,T)=>{const P=T.loose?t[i.TILDELOOSE]:t[i.TILDE];return $.replace(P,(B,F,V,I,C)=>{n("tilde",$,B,F,V,I,C);let j;return d(F)?j="":d(V)?j=`>=${F}.0.0 <${+F+1}.0.0-0`:d(I)?j=`>=${F}.${V}.0 <${F}.${+V+1}.0-0`:C?(n("replaceTilde pr",C),j=`>=${F}.${V}.${I}-${C} <${F}.${+V+1}.0-0`):j=`>=${F}.${V}.${I} <${F}.${+V+1}.0-0`,n("tilde return",j),j})},x=($,T)=>$.trim().split(/\s+/).map(P=>R(P,T)).join(" "),R=($,T)=>{n("caret",$,T);const P=T.loose?t[i.CARETLOOSE]:t[i.CARET],B=T.includePrerelease?"-0":"";return $.replace(P,(F,V,I,C,j)=>{n("caret",$,F,V,I,C,j);let L;return d(V)?L="":d(I)?L=`>=${V}.0.0${B} <${+V+1}.0.0-0`:d(C)?V==="0"?L=`>=${V}.${I}.0${B} <${V}.${+I+1}.0-0`:L=`>=${V}.${I}.0${B} <${+V+1}.0.0-0`:j?(n("replaceCaret pr",j),V==="0"?I==="0"?L=`>=${V}.${I}.${C}-${j} <${V}.${I}.${+C+1}-0`:L=`>=${V}.${I}.${C}-${j} <${V}.${+I+1}.0-0`:L=`>=${V}.${I}.${C}-${j} <${+V+1}.0.0-0`):(n("no pr"),V==="0"?I==="0"?L=`>=${V}.${I}.${C}${B} <${V}.${I}.${+C+1}-0`:L=`>=${V}.${I}.${C}${B} <${V}.${+I+1}.0-0`:L=`>=${V}.${I}.${C} <${+V+1}.0.0-0`),n("caret return",L),L})},M=($,T)=>(n("replaceXRanges",$,T),$.split(/\s+/).map(P=>N(P,T)).join(" ")),N=($,T)=>{$=$.trim();const P=T.loose?t[i.XRANGELOOSE]:t[i.XRANGE];return $.replace(P,(B,F,V,I,C,j)=>{n("xRange",$,B,F,V,I,C,j);const L=d(V),D=L||d(I),G=D||d(C),X=G;return F==="="&&X&&(F=""),j=T.includePrerelease?"-0":"",L?F===">"||F==="<"?B="<0.0.0-0":B="*":F&&X?(D&&(I=0),C=0,F===">"?(F=">=",D?(V=+V+1,I=0,C=0):(I=+I+1,C=0)):F==="<="&&(F="<",D?V=+V+1:I=+I+1),F==="<"&&(j="-0"),B=`${F+V}.${I}.${C}${j}`):D?B=`>=${V}.0.0${j} <${+V+1}.0.0-0`:G&&(B=`>=${V}.${I}.0${j} <${V}.${+I+1}.0-0`),n("xRange return",B),B})},U=($,T)=>(n("replaceStars",$,T),$.trim().replace(t[i.STAR],"")),J=($,T)=>(n("replaceGTE0",$,T),$.trim().replace(t[T.includePrerelease?i.GTE0PRE:i.GTE0],"")),H=$=>(T,P,B,F,V,I,C,j,L,D,G,X,Y)=>(d(B)?P="":d(F)?P=`>=${B}.0.0${$?"-0":""}`:d(V)?P=`>=${B}.${F}.0${$?"-0":""}`:I?P=`>=${P}`:P=`>=${P}${$?"-0":""}`,d(L)?j="":d(D)?j=`<${+L+1}.0.0-0`:d(G)?j=`<${L}.${+D+1}.0-0`:X?j=`<=${L}.${D}.${G}-${X}`:$?j=`<${L}.${D}.${+G+1}-0`:j=`<=${j}`,`${P} ${j}`.trim()),_=($,T,P)=>{for(let B=0;B<$.length;B++)if(!$[B].test(T))return!1;if(T.prerelease.length&&!P.includePrerelease){for(let B=0;B<$.length;B++)if(n($[B].semver),$[B].semver!==c.ANY&&$[B].semver.prerelease.length>0){const F=$[B].semver;if(F.major===T.major&&F.minor===T.minor&&F.patch===T.patch)return!0}return!1}return!0}},876:(E,b,s)=>{const a=s(2984),{MAX_LENGTH:o,MAX_SAFE_INTEGER:h}=s(5803),{safeRe:g,t:c}=s(6437),n=s(9826),{compareIdentifiers:e}=s(2067);class t{constructor(r,u){if(u=n(u),r instanceof t){if(r.loose===!!u.loose&&r.includePrerelease===!!u.includePrerelease)return r;r=r.version}else if(typeof r!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof r}".`);if(r.length>o)throw new TypeError(`version is longer than ${o} characters`);a("SemVer",r,u),this.options=u,this.loose=!!u.loose,this.includePrerelease=!!u.includePrerelease;const f=r.trim().match(u.loose?g[c.LOOSE]:g[c.FULL]);if(!f)throw new TypeError(`Invalid Version: ${r}`);if(this.raw=r,this.major=+f[1],this.minor=+f[2],this.patch=+f[3],this.major>h||this.major<0)throw new TypeError("Invalid major version");if(this.minor>h||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>h||this.patch<0)throw new TypeError("Invalid patch version");f[4]?this.prerelease=f[4].split(".").map(p=>{if(/^[0-9]+$/.test(p)){const v=+p;if(v>=0&&v<h)return v}return p}):this.prerelease=[],this.build=f[5]?f[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(r){if(a("SemVer.compare",this.version,this.options,r),!(r instanceof t)){if(typeof r=="string"&&r===this.version)return 0;r=new t(r,this.options)}return r.version===this.version?0:this.compareMain(r)||this.comparePre(r)}compareMain(r){return r instanceof t||(r=new t(r,this.options)),e(this.major,r.major)||e(this.minor,r.minor)||e(this.patch,r.patch)}comparePre(r){if(r instanceof t||(r=new t(r,this.options)),this.prerelease.length&&!r.prerelease.length)return-1;if(!this.prerelease.length&&r.prerelease.length)return 1;if(!this.prerelease.length&&!r.prerelease.length)return 0;let u=0;do{const f=this.prerelease[u],p=r.prerelease[u];if(a("prerelease compare",u,f,p),f===void 0&&p===void 0)return 0;if(p===void 0)return 1;if(f===void 0)return-1;if(f===p)continue;return e(f,p)}while(++u)}compareBuild(r){r instanceof t||(r=new t(r,this.options));let u=0;do{const f=this.build[u],p=r.build[u];if(a("prerelease compare",u,f,p),f===void 0&&p===void 0)return 0;if(p===void 0)return 1;if(f===void 0)return-1;if(f===p)continue;return e(f,p)}while(++u)}inc(r,u,f){switch(r){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",u,f);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",u,f);break;case"prepatch":this.prerelease.length=0,this.inc("patch",u,f),this.inc("pre",u,f);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",u,f),this.inc("pre",u,f);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const p=Number(f)?1:0;if(!u&&f===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[p];else{let v=this.prerelease.length;for(;--v>=0;)typeof this.prerelease[v]=="number"&&(this.prerelease[v]++,v=-2);if(v===-1){if(u===this.prerelease.join(".")&&f===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(p)}}if(u){let v=[u,p];f===!1&&(v=[u]),e(this.prerelease[0],u)===0?isNaN(this.prerelease[1])&&(this.prerelease=v):this.prerelease=v}break}default:throw new Error(`invalid increment argument: ${r}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}E.exports=t},6170:(E,b,s)=>{const a=s(2363),o=(h,g)=>{const c=a(h.trim().replace(/^[=v]+/,""),g);return c?c.version:null};E.exports=o},7437:(E,b,s)=>{const a=s(6606),o=s(4681),h=s(4182),g=s(2452),c=s(3737),n=s(3011),e=(t,i,r,u)=>{switch(i){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return a(t,r,u);case"!=":return o(t,r,u);case">":return h(t,r,u);case">=":return g(t,r,u);case"<":return c(t,r,u);case"<=":return n(t,r,u);default:throw new TypeError(`Invalid operator: ${i}`)}};E.exports=e},1630:(E,b,s)=>{const a=s(876),o=s(2363),{safeRe:h,t:g}=s(6437),c=(n,e)=>{if(n instanceof a)return n;if(typeof n=="number"&&(n=String(n)),typeof n!="string")return null;e=e||{};let t=null;if(!e.rtl)t=n.match(h[g.COERCE]);else{let i;for(;(i=h[g.COERCERTL].exec(n))&&(!t||t.index+t[0].length!==n.length);)(!t||i.index+i[0].length!==t.index+t[0].length)&&(t=i),h[g.COERCERTL].lastIndex=i.index+i[1].length+i[2].length;h[g.COERCERTL].lastIndex=-1}return t===null?null:o(`${t[2]}.${t[3]||"0"}.${t[4]||"0"}`,e)};E.exports=c},6844:(E,b,s)=>{const a=s(876),o=(h,g,c)=>{const n=new a(h,c),e=new a(g,c);return n.compare(e)||n.compareBuild(e)};E.exports=o},1321:(E,b,s)=>{const a=s(8380),o=(h,g)=>a(h,g,!0);E.exports=o},8380:(E,b,s)=>{const a=s(876),o=(h,g,c)=>new a(h,c).compare(new a(g,c));E.exports=o},8640:(E,b,s)=>{const a=s(2363),o=(h,g)=>{const c=a(h,null,!0),n=a(g,null,!0),e=c.compare(n);if(e===0)return null;const t=e>0,i=t?c:n,r=t?n:c,u=!!i.prerelease.length;if(!!r.prerelease.length&&!u)return!r.patch&&!r.minor?"major":i.patch?"patch":i.minor?"minor":"major";const p=u?"pre":"";return c.major!==n.major?p+"major":c.minor!==n.minor?p+"minor":c.patch!==n.patch?p+"patch":"prerelease"};E.exports=o},6606:(E,b,s)=>{const a=s(8380),o=(h,g,c)=>a(h,g,c)===0;E.exports=o},4182:(E,b,s)=>{const a=s(8380),o=(h,g,c)=>a(h,g,c)>0;E.exports=o},2452:(E,b,s)=>{const a=s(8380),o=(h,g,c)=>a(h,g,c)>=0;E.exports=o},7843:(E,b,s)=>{const a=s(876),o=(h,g,c,n,e)=>{typeof c=="string"&&(e=n,n=c,c=void 0);try{return new a(h instanceof a?h.version:h,c).inc(g,n,e).version}catch{return null}};E.exports=o},3737:(E,b,s)=>{const a=s(8380),o=(h,g,c)=>a(h,g,c)<0;E.exports=o},3011:(E,b,s)=>{const a=s(8380),o=(h,g,c)=>a(h,g,c)<=0;E.exports=o},7490:(E,b,s)=>{const a=s(876),o=(h,g)=>new a(h,g).major;E.exports=o},3183:(E,b,s)=>{const a=s(876),o=(h,g)=>new a(h,g).minor;E.exports=o},4681:(E,b,s)=>{const a=s(8380),o=(h,g,c)=>a(h,g,c)!==0;E.exports=o},2363:(E,b,s)=>{const a=s(876),o=(h,g,c=!1)=>{if(h instanceof a)return h;try{return new a(h,g)}catch(n){if(!c)return null;throw n}};E.exports=o},6820:(E,b,s)=>{const a=s(876),o=(h,g)=>new a(h,g).patch;E.exports=o},1048:(E,b,s)=>{const a=s(2363),o=(h,g)=>{const c=a(h,g);return c&&c.prerelease.length?c.prerelease:null};E.exports=o},1506:(E,b,s)=>{const a=s(8380),o=(h,g,c)=>a(g,h,c);E.exports=o},6627:(E,b,s)=>{const a=s(6844),o=(h,g)=>h.sort((c,n)=>a(n,c,g));E.exports=o},872:(E,b,s)=>{const a=s(5474),o=(h,g,c)=>{try{g=new a(g,c)}catch{return!1}return g.test(h)};E.exports=o},485:(E,b,s)=>{const a=s(6844),o=(h,g)=>h.sort((c,n)=>a(c,n,g));E.exports=o},8730:(E,b,s)=>{const a=s(2363),o=(h,g)=>{const c=a(h,g);return c?c.version:null};E.exports=o},2839:(E,b,s)=>{const a=s(6437),o=s(5803),h=s(876),g=s(2067),c=s(2363),n=s(8730),e=s(6170),t=s(7843),i=s(8640),r=s(7490),u=s(3183),f=s(6820),p=s(1048),v=s(8380),w=s(1506),A=s(1321),S=s(6844),y=s(485),d=s(6627),l=s(4182),m=s(3737),x=s(6606),R=s(4681),M=s(2452),N=s(3011),U=s(7437),J=s(1630),H=s(3698),_=s(5474),$=s(872),T=s(7842),P=s(2959),B=s(6308),F=s(7627),V=s(2866),I=s(8558),C=s(2242),j=s(4619),L=s(6738),D=s(3226),G=s(7817);E.exports={parse:c,valid:n,clean:e,inc:t,diff:i,major:r,minor:u,patch:f,prerelease:p,compare:v,rcompare:w,compareLoose:A,compareBuild:S,sort:y,rsort:d,gt:l,lt:m,eq:x,neq:R,gte:M,lte:N,cmp:U,coerce:J,Comparator:H,Range:_,satisfies:$,toComparators:T,maxSatisfying:P,minSatisfying:B,minVersion:F,validRange:V,outside:I,gtr:C,ltr:j,intersects:L,simplifyRange:D,subset:G,SemVer:h,re:a.re,src:a.src,tokens:a.t,SEMVER_SPEC_VERSION:o.SEMVER_SPEC_VERSION,RELEASE_TYPES:o.RELEASE_TYPES,compareIdentifiers:g.compareIdentifiers,rcompareIdentifiers:g.rcompareIdentifiers}},5803:E=>{const b="2.0.0",a=Number.MAX_SAFE_INTEGER||9007199254740991,o=16,h=256-6,g=["major","premajor","minor","preminor","patch","prepatch","prerelease"];E.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:o,MAX_SAFE_BUILD_LENGTH:h,MAX_SAFE_INTEGER:a,RELEASE_TYPES:g,SEMVER_SPEC_VERSION:b,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},2984:E=>{const b=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...s)=>console.error("SEMVER",...s):()=>{};E.exports=b},2067:E=>{const b=/^[0-9]+$/,s=(o,h)=>{const g=b.test(o),c=b.test(h);return g&&c&&(o=+o,h=+h),o===h?0:g&&!c?-1:c&&!g?1:o<h?-1:1},a=(o,h)=>s(h,o);E.exports={compareIdentifiers:s,rcompareIdentifiers:a}},9826:E=>{const b=Object.freeze({loose:!0}),s=Object.freeze({}),a=o=>o?typeof o!="object"?b:o:s;E.exports=a},6437:(E,b,s)=>{const{MAX_SAFE_COMPONENT_LENGTH:a,MAX_SAFE_BUILD_LENGTH:o,MAX_LENGTH:h}=s(5803),g=s(2984);b=E.exports={};const c=b.re=[],n=b.safeRe=[],e=b.src=[],t=b.t={};let i=0;const r="[a-zA-Z0-9-]",u=[["\\s",1],["\\d",h],[r,o]],f=v=>{for(const[w,A]of u)v=v.split(`${w}*`).join(`${w}{0,${A}}`).split(`${w}+`).join(`${w}{1,${A}}`);return v},p=(v,w,A)=>{const S=f(w),y=i++;g(v,y,w),t[v]=y,e[y]=w,c[y]=new RegExp(w,A?"g":void 0),n[y]=new RegExp(S,A?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${r}*`),p("MAINVERSION",`(${e[t.NUMERICIDENTIFIER]})\\.(${e[t.NUMERICIDENTIFIER]})\\.(${e[t.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${e[t.NUMERICIDENTIFIERLOOSE]})\\.(${e[t.NUMERICIDENTIFIERLOOSE]})\\.(${e[t.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${e[t.NUMERICIDENTIFIER]}|${e[t.NONNUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${e[t.NUMERICIDENTIFIERLOOSE]}|${e[t.NONNUMERICIDENTIFIER]})`),p("PRERELEASE",`(?:-(${e[t.PRERELEASEIDENTIFIER]}(?:\\.${e[t.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${e[t.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${e[t.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${r}+`),p("BUILD",`(?:\\+(${e[t.BUILDIDENTIFIER]}(?:\\.${e[t.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${e[t.MAINVERSION]}${e[t.PRERELEASE]}?${e[t.BUILD]}?`),p("FULL",`^${e[t.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${e[t.MAINVERSIONLOOSE]}${e[t.PRERELEASELOOSE]}?${e[t.BUILD]}?`),p("LOOSE",`^${e[t.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${e[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${e[t.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${e[t.XRANGEIDENTIFIER]})(?:\\.(${e[t.XRANGEIDENTIFIER]})(?:\\.(${e[t.XRANGEIDENTIFIER]})(?:${e[t.PRERELEASE]})?${e[t.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${e[t.XRANGEIDENTIFIERLOOSE]})(?:\\.(${e[t.XRANGEIDENTIFIERLOOSE]})(?:\\.(${e[t.XRANGEIDENTIFIERLOOSE]})(?:${e[t.PRERELEASELOOSE]})?${e[t.BUILD]}?)?)?`),p("XRANGE",`^${e[t.GTLT]}\\s*${e[t.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${e[t.GTLT]}\\s*${e[t.XRANGEPLAINLOOSE]}$`),p("COERCE",`(^|[^\\d])(\\d{1,${a}})(?:\\.(\\d{1,${a}}))?(?:\\.(\\d{1,${a}}))?(?:$|[^\\d])`),p("COERCERTL",e[t.COERCE],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${e[t.LONETILDE]}\\s+`,!0),b.tildeTrimReplace="$1~",p("TILDE",`^${e[t.LONETILDE]}${e[t.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${e[t.LONETILDE]}${e[t.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${e[t.LONECARET]}\\s+`,!0),b.caretTrimReplace="$1^",p("CARET",`^${e[t.LONECARET]}${e[t.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${e[t.LONECARET]}${e[t.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${e[t.GTLT]}\\s*(${e[t.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${e[t.GTLT]}\\s*(${e[t.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${e[t.GTLT]}\\s*(${e[t.LOOSEPLAIN]}|${e[t.XRANGEPLAIN]})`,!0),b.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${e[t.XRANGEPLAIN]})\\s+-\\s+(${e[t.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${e[t.XRANGEPLAINLOOSE]})\\s+-\\s+(${e[t.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},2242:(E,b,s)=>{const a=s(8558),o=(h,g,c)=>a(h,g,">",c);E.exports=o},6738:(E,b,s)=>{const a=s(5474),o=(h,g,c)=>(h=new a(h,c),g=new a(g,c),h.intersects(g,c));E.exports=o},4619:(E,b,s)=>{const a=s(8558),o=(h,g,c)=>a(h,g,"<",c);E.exports=o},2959:(E,b,s)=>{const a=s(876),o=s(5474),h=(g,c,n)=>{let e=null,t=null,i=null;try{i=new o(c,n)}catch{return null}return g.forEach(r=>{i.test(r)&&(!e||t.compare(r)===-1)&&(e=r,t=new a(e,n))}),e};E.exports=h},6308:(E,b,s)=>{const a=s(876),o=s(5474),h=(g,c,n)=>{let e=null,t=null,i=null;try{i=new o(c,n)}catch{return null}return g.forEach(r=>{i.test(r)&&(!e||t.compare(r)===1)&&(e=r,t=new a(e,n))}),e};E.exports=h},7627:(E,b,s)=>{const a=s(876),o=s(5474),h=s(4182),g=(c,n)=>{c=new o(c,n);let e=new a("0.0.0");if(c.test(e)||(e=new a("0.0.0-0"),c.test(e)))return e;e=null;for(let t=0;t<c.set.length;++t){const i=c.set[t];let r=null;i.forEach(u=>{const f=new a(u.semver.version);switch(u.operator){case">":f.prerelease.length===0?f.patch++:f.prerelease.push(0),f.raw=f.format();case"":case">=":(!r||h(f,r))&&(r=f);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${u.operator}`)}}),r&&(!e||h(e,r))&&(e=r)}return e&&c.test(e)?e:null};E.exports=g},8558:(E,b,s)=>{const a=s(876),o=s(3698),{ANY:h}=o,g=s(5474),c=s(872),n=s(4182),e=s(3737),t=s(3011),i=s(2452),r=(u,f,p,v)=>{u=new a(u,v),f=new g(f,v);let w,A,S,y,d;switch(p){case">":w=n,A=t,S=e,y=">",d=">=";break;case"<":w=e,A=i,S=n,y="<",d="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(c(u,f,v))return!1;for(let l=0;l<f.set.length;++l){const m=f.set[l];let x=null,R=null;if(m.forEach(M=>{M.semver===h&&(M=new o(">=0.0.0")),x=x||M,R=R||M,w(M.semver,x.semver,v)?x=M:S(M.semver,R.semver,v)&&(R=M)}),x.operator===y||x.operator===d||(!R.operator||R.operator===y)&&A(u,R.semver))return!1;if(R.operator===d&&S(u,R.semver))return!1}return!0};E.exports=r},3226:(E,b,s)=>{const a=s(872),o=s(8380);E.exports=(h,g,c)=>{const n=[];let e=null,t=null;const i=h.sort((p,v)=>o(p,v,c));for(const p of i)a(p,g,c)?(t=p,e||(e=p)):(t&&n.push([e,t]),t=null,e=null);e&&n.push([e,null]);const r=[];for(const[p,v]of n)p===v?r.push(p):!v&&p===i[0]?r.push("*"):v?p===i[0]?r.push(`<=${v}`):r.push(`${p} - ${v}`):r.push(`>=${p}`);const u=r.join(" || "),f=typeof g.raw=="string"?g.raw:String(g);return u.length<f.length?u:g}},7817:(E,b,s)=>{const a=s(5474),o=s(3698),{ANY:h}=o,g=s(872),c=s(8380),n=(f,p,v={})=>{if(f===p)return!0;f=new a(f,v),p=new a(p,v);let w=!1;e:for(const A of f.set){for(const S of p.set){const y=i(A,S,v);if(w=w||y!==null,y)continue e}if(w)return!1}return!0},e=[new o(">=0.0.0-0")],t=[new o(">=0.0.0")],i=(f,p,v)=>{if(f===p)return!0;if(f.length===1&&f[0].semver===h){if(p.length===1&&p[0].semver===h)return!0;v.includePrerelease?f=e:f=t}if(p.length===1&&p[0].semver===h){if(v.includePrerelease)return!0;p=t}const w=new Set;let A,S;for(const N of f)N.operator===">"||N.operator===">="?A=r(A,N,v):N.operator==="<"||N.operator==="<="?S=u(S,N,v):w.add(N.semver);if(w.size>1)return null;let y;if(A&&S){if(y=c(A.semver,S.semver,v),y>0)return null;if(y===0&&(A.operator!==">="||S.operator!=="<="))return null}for(const N of w){if(A&&!g(N,String(A),v)||S&&!g(N,String(S),v))return null;for(const U of p)if(!g(N,String(U),v))return!1;return!0}let d,l,m,x,R=S&&!v.includePrerelease&&S.semver.prerelease.length?S.semver:!1,M=A&&!v.includePrerelease&&A.semver.prerelease.length?A.semver:!1;R&&R.prerelease.length===1&&S.operator==="<"&&R.prerelease[0]===0&&(R=!1);for(const N of p){if(x=x||N.operator===">"||N.operator===">=",m=m||N.operator==="<"||N.operator==="<=",A){if(M&&N.semver.prerelease&&N.semver.prerelease.length&&N.semver.major===M.major&&N.semver.minor===M.minor&&N.semver.patch===M.patch&&(M=!1),N.operator===">"||N.operator===">="){if(d=r(A,N,v),d===N&&d!==A)return!1}else if(A.operator===">="&&!g(A.semver,String(N),v))return!1}if(S){if(R&&N.semver.prerelease&&N.semver.prerelease.length&&N.semver.major===R.major&&N.semver.minor===R.minor&&N.semver.patch===R.patch&&(R=!1),N.operator==="<"||N.operator==="<="){if(l=u(S,N,v),l===N&&l!==S)return!1}else if(S.operator==="<="&&!g(S.semver,String(N),v))return!1}if(!N.operator&&(S||A)&&y!==0)return!1}return!(A&&m&&!S&&y!==0||S&&x&&!A&&y!==0||M||R)},r=(f,p,v)=>{if(!f)return p;const w=c(f.semver,p.semver,v);return w>0?f:w<0||p.operator===">"&&f.operator===">="?p:f},u=(f,p,v)=>{if(!f)return p;const w=c(f.semver,p.semver,v);return w<0?f:w>0||p.operator==="<"&&f.operator==="<="?p:f};E.exports=n},7842:(E,b,s)=>{const a=s(5474),o=(h,g)=>new a(h,g).set.map(c=>c.map(n=>n.value).join(" ").trim().split(" "));E.exports=o},2866:(E,b,s)=>{const a=s(5474),o=(h,g)=>{try{return new a(h,g).range||"*"}catch{return null}};E.exports=o},4900:E=>{"use strict";E.exports=function(b){b.prototype[Symbol.iterator]=function*(){for(let s=this.head;s;s=s.next)yield s.value}}},7006:(E,b,s)=>{"use strict";E.exports=a,a.Node=c,a.create=a;function a(n){var e=this;if(e instanceof a||(e=new a),e.tail=null,e.head=null,e.length=0,n&&typeof n.forEach=="function")n.forEach(function(r){e.push(r)});else if(arguments.length>0)for(var t=0,i=arguments.length;t<i;t++)e.push(arguments[t]);return e}a.prototype.removeNode=function(n){if(n.list!==this)throw new Error("removing node which does not belong to this list");var e=n.next,t=n.prev;return e&&(e.prev=t),t&&(t.next=e),n===this.head&&(this.head=e),n===this.tail&&(this.tail=t),n.list.length--,n.next=null,n.prev=null,n.list=null,e},a.prototype.unshiftNode=function(n){if(n!==this.head){n.list&&n.list.removeNode(n);var e=this.head;n.list=this,n.next=e,e&&(e.prev=n),this.head=n,this.tail||(this.tail=n),this.length++}},a.prototype.pushNode=function(n){if(n!==this.tail){n.list&&n.list.removeNode(n);var e=this.tail;n.list=this,n.prev=e,e&&(e.next=n),this.tail=n,this.head||(this.head=n),this.length++}},a.prototype.push=function(){for(var n=0,e=arguments.length;n<e;n++)h(this,arguments[n]);return this.length},a.prototype.unshift=function(){for(var n=0,e=arguments.length;n<e;n++)g(this,arguments[n]);return this.length},a.prototype.pop=function(){if(this.tail){var n=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,n}},a.prototype.shift=function(){if(this.head){var n=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,n}},a.prototype.forEach=function(n,e){e=e||this;for(var t=this.head,i=0;t!==null;i++)n.call(e,t.value,i,this),t=t.next},a.prototype.forEachReverse=function(n,e){e=e||this;for(var t=this.tail,i=this.length-1;t!==null;i--)n.call(e,t.value,i,this),t=t.prev},a.prototype.get=function(n){for(var e=0,t=this.head;t!==null&&e<n;e++)t=t.next;if(e===n&&t!==null)return t.value},a.prototype.getReverse=function(n){for(var e=0,t=this.tail;t!==null&&e<n;e++)t=t.prev;if(e===n&&t!==null)return t.value},a.prototype.map=function(n,e){e=e||this;for(var t=new a,i=this.head;i!==null;)t.push(n.call(e,i.value,this)),i=i.next;return t},a.prototype.mapReverse=function(n,e){e=e||this;for(var t=new a,i=this.tail;i!==null;)t.push(n.call(e,i.value,this)),i=i.prev;return t},a.prototype.reduce=function(n,e){var t,i=this.head;if(arguments.length>1)t=e;else if(this.head)i=this.head.next,t=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var r=0;i!==null;r++)t=n(t,i.value,r),i=i.next;return t},a.prototype.reduceReverse=function(n,e){var t,i=this.tail;if(arguments.length>1)t=e;else if(this.tail)i=this.tail.prev,t=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var r=this.length-1;i!==null;r--)t=n(t,i.value,r),i=i.prev;return t},a.prototype.toArray=function(){for(var n=new Array(this.length),e=0,t=this.head;t!==null;e++)n[e]=t.value,t=t.next;return n},a.prototype.toArrayReverse=function(){for(var n=new Array(this.length),e=0,t=this.tail;t!==null;e++)n[e]=t.value,t=t.prev;return n},a.prototype.slice=function(n,e){e=e||this.length,e<0&&(e+=this.length),n=n||0,n<0&&(n+=this.length);var t=new a;if(e<n||e<0)return t;n<0&&(n=0),e>this.length&&(e=this.length);for(var i=0,r=this.head;r!==null&&i<n;i++)r=r.next;for(;r!==null&&i<e;i++,r=r.next)t.push(r.value);return t},a.prototype.sliceReverse=function(n,e){e=e||this.length,e<0&&(e+=this.length),n=n||0,n<0&&(n+=this.length);var t=new a;if(e<n||e<0)return t;n<0&&(n=0),e>this.length&&(e=this.length);for(var i=this.length,r=this.tail;r!==null&&i>e;i--)r=r.prev;for(;r!==null&&i>n;i--,r=r.prev)t.push(r.value);return t},a.prototype.splice=function(n,e,...t){n>this.length&&(n=this.length-1),n<0&&(n=this.length+n);for(var i=0,r=this.head;r!==null&&i<n;i++)r=r.next;for(var u=[],i=0;r&&i<e;i++)u.push(r.value),r=this.removeNode(r);r===null&&(r=this.tail),r!==this.head&&r!==this.tail&&(r=r.prev);for(var i=0;i<t.length;i++)r=o(this,r,t[i]);return u},a.prototype.reverse=function(){for(var n=this.head,e=this.tail,t=n;t!==null;t=t.prev){var i=t.prev;t.prev=t.next,t.next=i}return this.head=e,this.tail=n,this};function o(n,e,t){var i=e===n.head?new c(t,null,e,n):new c(t,e,e.next,n);return i.next===null&&(n.tail=i),i.prev===null&&(n.head=i),n.length++,i}function h(n,e){n.tail=new c(e,n.tail,null,n),n.head||(n.head=n.tail),n.length++}function g(n,e){n.head=new c(e,null,n.head,n),n.tail||(n.tail=n.head),n.length++}function c(n,e,t,i){if(!(this instanceof c))return new c(n,e,t,i);this.list=i,this.value=n,e?(e.next=this,this.prev=e):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}try{s(4900)(a)}catch{}},7532:(E,b,s)=>{const a=s(871),o=s(3285),h=s(3786),g=s(693),c=s(2545),n=s(5643),e=s(9512),t=s(5681),i=s(8493),r=s(3282),u=s(4275),{KeyObject:f,createSecretKey:p,createPrivateKey:v}=s(6113),w=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];o&&w.splice(3,0,"PS256","PS384","PS512");const A={expiresIn:{isValid:function(R){return e(R)||r(R)&&R},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(R){return e(R)||r(R)&&R},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(R){return r(R)||Array.isArray(R)},message:'"audience" must be a string or array'},algorithm:{isValid:c.bind(null,w),message:'"algorithm" must be a valid string enum value'},header:{isValid:i,message:'"header" must be an object'},encoding:{isValid:r,message:'"encoding" must be a string'},issuer:{isValid:r,message:'"issuer" must be a string'},subject:{isValid:r,message:'"subject" must be a string'},jwtid:{isValid:r,message:'"jwtid" must be a string'},noTimestamp:{isValid:n,message:'"noTimestamp" must be a boolean'},keyid:{isValid:r,message:'"keyid" must be a string'},mutatePayload:{isValid:n,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:n,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:n,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},S={iat:{isValid:t,message:'"iat" should be a number of seconds'},exp:{isValid:t,message:'"exp" should be a number of seconds'},nbf:{isValid:t,message:'"nbf" should be a number of seconds'}};function y(R,M,N,U){if(!i(N))throw new Error('Expected "'+U+'" to be a plain object.');Object.keys(N).forEach(function(J){const H=R[J];if(!H){if(!M)throw new Error('"'+J+'" is not allowed in "'+U+'"');return}if(!H.isValid(N[J]))throw new Error(H.message)})}function d(R){return y(A,!1,R,"options")}function l(R){return y(S,!0,R,"payload")}const m={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},x=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];E.exports=function(R,M,N,U){typeof N=="function"?(U=N,N={}):N=N||{};const J=typeof R=="object"&&!Buffer.isBuffer(R),H=Object.assign({alg:N.algorithm||"HS256",typ:J?"JWT":void 0,kid:N.keyid},N.header);function _(P){if(U)return U(P);throw P}if(!M&&N.algorithm!=="none")return _(new Error("secretOrPrivateKey must have a value"));if(M!=null&&!(M instanceof f))try{M=v(M)}catch{try{M=p(typeof M=="string"?Buffer.from(M):M)}catch{return _(new Error("secretOrPrivateKey is not valid key material"))}}if(H.alg.startsWith("HS")&&M.type!=="secret")return _(new Error(`secretOrPrivateKey must be a symmetric key when using ${H.alg}`));if(/^(?:RS|PS|ES)/.test(H.alg)){if(M.type!=="private")return _(new Error(`secretOrPrivateKey must be an asymmetric key when using ${H.alg}`));if(!N.allowInsecureKeySizes&&!H.alg.startsWith("ES")&&M.asymmetricKeyDetails!==void 0&&M.asymmetricKeyDetails.modulusLength<2048)return _(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${H.alg}`))}if(typeof R>"u")return _(new Error("payload is required"));if(J){try{l(R)}catch(P){return _(P)}N.mutatePayload||(R=Object.assign({},R))}else{const P=x.filter(function(B){return typeof N[B]<"u"});if(P.length>0)return _(new Error("invalid "+P.join(",")+" option for "+typeof R+" payload"))}if(typeof R.exp<"u"&&typeof N.expiresIn<"u")return _(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(typeof R.nbf<"u"&&typeof N.notBefore<"u")return _(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{d(N)}catch(P){return _(P)}if(!N.allowInvalidAsymmetricKeyTypes)try{h(H.alg,M)}catch(P){return _(P)}const $=R.iat||Math.floor(Date.now()/1e3);if(N.noTimestamp?delete R.iat:J&&(R.iat=$),typeof N.notBefore<"u"){try{R.nbf=a(N.notBefore,$)}catch(P){return _(P)}if(typeof R.nbf>"u")return _(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(typeof N.expiresIn<"u"&&typeof R=="object"){try{R.exp=a(N.expiresIn,$)}catch(P){return _(P)}if(typeof R.exp>"u")return _(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(m).forEach(function(P){const B=m[P];if(typeof N[P]<"u"){if(typeof R[B]<"u")return _(new Error('Bad "options.'+P+'" option. The payload already has an "'+B+'" property.'));R[B]=N[P]}});const T=N.encoding||"utf8";if(typeof U=="function")U=U&&u(U),g.createSign({header:H,privateKey:M,payload:R,encoding:T}).once("error",U).once("done",function(P){if(!N.allowInsecureKeySizes&&/^(?:RS|PS)/.test(H.alg)&&P.length<256)return U(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${H.alg}`));U(null,P)});else{let P=g.sign({header:H,payload:R,secret:M,encoding:T});if(!N.allowInsecureKeySizes&&/^(?:RS|PS)/.test(H.alg)&&P.length<256)throw new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${H.alg}`);return P}}},7324:(E,b,s)=>{const a=s(3204),o=s(7522),h=s(5620),g=s(6957),c=s(871),n=s(3786),e=s(3285),t=s(693),{KeyObject:i,createSecretKey:r,createPublicKey:u}=s(6113),f=["RS256","RS384","RS512"],p=["ES256","ES384","ES512"],v=["RS256","RS384","RS512"],w=["HS256","HS384","HS512"];e&&(f.splice(f.length,0,"PS256","PS384","PS512"),v.splice(v.length,0,"PS256","PS384","PS512")),E.exports=function(A,S,y,d){typeof y=="function"&&!d&&(d=y,y={}),y||(y={}),y=Object.assign({},y);let l;if(d?l=d:l=function(U,J){if(U)throw U;return J},y.clockTimestamp&&typeof y.clockTimestamp!="number")return l(new a("clockTimestamp must be a number"));if(y.nonce!==void 0&&(typeof y.nonce!="string"||y.nonce.trim()===""))return l(new a("nonce must be a non-empty string"));if(y.allowInvalidAsymmetricKeyTypes!==void 0&&typeof y.allowInvalidAsymmetricKeyTypes!="boolean")return l(new a("allowInvalidAsymmetricKeyTypes must be a boolean"));const m=y.clockTimestamp||Math.floor(Date.now()/1e3);if(!A)return l(new a("jwt must be provided"));if(typeof A!="string")return l(new a("jwt must be a string"));const x=A.split(".");if(x.length!==3)return l(new a("jwt malformed"));let R;try{R=g(A,{complete:!0})}catch(U){return l(U)}if(!R)return l(new a("invalid token"));const M=R.header;let N;if(typeof S=="function"){if(!d)return l(new a("verify must be called asynchronous if secret or public key is provided as a callback"));N=S}else N=function(U,J){return J(null,S)};return N(M,function(U,J){if(U)return l(new a("error in secret or public key callback: "+U.message));const H=x[2].trim()!=="";if(!H&&J)return l(new a("jwt signature is required"));if(H&&!J)return l(new a("secret or public key must be provided"));if(!H&&!y.algorithms)return l(new a('please specify "none" in "algorithms" to verify unsigned tokens'));if(J!=null&&!(J instanceof i))try{J=u(J)}catch{try{J=r(typeof J=="string"?Buffer.from(J):J)}catch{return l(new a("secretOrPublicKey is not valid key material"))}}if(y.algorithms||(J.type==="secret"?y.algorithms=w:["rsa","rsa-pss"].includes(J.asymmetricKeyType)?y.algorithms=v:J.asymmetricKeyType==="ec"?y.algorithms=p:y.algorithms=f),y.algorithms.indexOf(R.header.alg)===-1)return l(new a("invalid algorithm"));if(M.alg.startsWith("HS")&&J.type!=="secret")return l(new a(`secretOrPublicKey must be a symmetric key when using ${M.alg}`));if(/^(?:RS|PS|ES)/.test(M.alg)&&J.type!=="public")return l(new a(`secretOrPublicKey must be an asymmetric key when using ${M.alg}`));if(!y.allowInvalidAsymmetricKeyTypes)try{n(M.alg,J)}catch(T){return l(T)}let _;try{_=t.verify(A,R.header.alg,J)}catch(T){return l(T)}if(!_)return l(new a("invalid signature"));const $=R.payload;if(typeof $.nbf<"u"&&!y.ignoreNotBefore){if(typeof $.nbf!="number")return l(new a("invalid nbf value"));if($.nbf>m+(y.clockTolerance||0))return l(new o("jwt not active",new Date($.nbf*1e3)))}if(typeof $.exp<"u"&&!y.ignoreExpiration){if(typeof $.exp!="number")return l(new a("invalid exp value"));if(m>=$.exp+(y.clockTolerance||0))return l(new h("jwt expired",new Date($.exp*1e3)))}if(y.audience){const T=Array.isArray(y.audience)?y.audience:[y.audience];if(!(Array.isArray($.aud)?$.aud:[$.aud]).some(function(F){return T.some(function(V){return V instanceof RegExp?V.test(F):V===F})}))return l(new a("jwt audience invalid. expected: "+T.join(" or ")))}if(y.issuer&&(typeof y.issuer=="string"&&$.iss!==y.issuer||Array.isArray(y.issuer)&&y.issuer.indexOf($.iss)===-1))return l(new a("jwt issuer invalid. expected: "+y.issuer));if(y.subject&&$.sub!==y.subject)return l(new a("jwt subject invalid. expected: "+y.subject));if(y.jwtid&&$.jti!==y.jwtid)return l(new a("jwt jwtid invalid. expected: "+y.jwtid));if(y.nonce&&$.nonce!==y.nonce)return l(new a("jwt nonce invalid. expected: "+y.nonce));if(y.maxAge){if(typeof $.iat!="number")return l(new a("iat required when maxAge is specified"));const T=c(y.maxAge,$.iat);if(typeof T>"u")return l(new a('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(m>=T+(y.clockTolerance||0))return l(new h("maxAge exceeded",new Date(T*1e3)))}if(y.complete===!0){const T=R.signature;return l(null,{header:M,payload:$,signature:T})}return l(null,$)})}},4647:(E,b,s)=>{var a=s(9180),o=s(6873).Buffer,h=s(6113),g=s(7512),c=s(3837),n=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,e="secret must be a string or buffer",t="key must be a string or a buffer",i="key must be a string, a buffer or an object",r=typeof h.createPublicKey=="function";r&&(t+=" or a KeyObject",e+="or a KeyObject");function u(_){if(!o.isBuffer(_)&&typeof _!="string"&&(!r||typeof _!="object"||typeof _.type!="string"||typeof _.asymmetricKeyType!="string"||typeof _.export!="function"))throw A(t)}function f(_){if(!o.isBuffer(_)&&typeof _!="string"&&typeof _!="object")throw A(i)}function p(_){if(!o.isBuffer(_)){if(typeof _=="string")return _;if(!r||typeof _!="object"||_.type!=="secret"||typeof _.export!="function")throw A(e)}}function v(_){return _.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function w(_){_=_.toString();var $=4-_.length%4;if($!==4)for(var T=0;T<$;++T)_+="=";return _.replace(/\-/g,"+").replace(/_/g,"/")}function A(_){var $=[].slice.call(arguments,1),T=c.format.bind(c,_).apply(null,$);return new TypeError(T)}function S(_){return o.isBuffer(_)||typeof _=="string"}function y(_){return S(_)||(_=JSON.stringify(_)),_}function d(_){return function(T,P){p(P),T=y(T);var B=h.createHmac("sha"+_,P),F=(B.update(T),B.digest("base64"));return v(F)}}function l(_){return function(T,P,B){var F=d(_)(T,B);return a(o.from(P),o.from(F))}}function m(_){return function(T,P){f(P),T=y(T);var B=h.createSign("RSA-SHA"+_),F=(B.update(T),B.sign(P,"base64"));return v(F)}}function x(_){return function(T,P,B){u(B),T=y(T),P=w(P);var F=h.createVerify("RSA-SHA"+_);return F.update(T),F.verify(B,P,"base64")}}function R(_){return function(T,P){f(P),T=y(T);var B=h.createSign("RSA-SHA"+_),F=(B.update(T),B.sign({key:P,padding:h.constants.RSA_PKCS1_PSS_PADDING,saltLength:h.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return v(F)}}function M(_){return function(T,P,B){u(B),T=y(T),P=w(P);var F=h.createVerify("RSA-SHA"+_);return F.update(T),F.verify({key:B,padding:h.constants.RSA_PKCS1_PSS_PADDING,saltLength:h.constants.RSA_PSS_SALTLEN_DIGEST},P,"base64")}}function N(_){var $=m(_);return function(){var P=$.apply(null,arguments);return P=g.derToJose(P,"ES"+_),P}}function U(_){var $=x(_);return function(P,B,F){B=g.joseToDer(B,"ES"+_).toString("base64");var V=$(P,B,F);return V}}function J(){return function(){return""}}function H(){return function($,T){return T===""}}E.exports=function($){var T={hs:d,rs:m,ps:R,es:N,none:J},P={hs:l,rs:x,ps:M,es:U,none:H},B=$.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!B)throw A(n,$);var F=(B[1]||B[3]).toLowerCase(),V=B[2];return{sign:T[F](V),verify:P[F](V)}}},693:(E,b,s)=>{var a=s(255),o=s(171),h=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];b.ALGORITHMS=h,b.sign=a.sign,b.verify=o.verify,b.decode=o.decode,b.isValid=o.isValid,b.createSign=function(c){return new a(c)},b.createVerify=function(c){return new o(c)}},840:(E,b,s)=>{var a=s(6873).Buffer,o=s(2781),h=s(3837);function g(c){if(this.buffer=null,this.writable=!0,this.readable=!0,!c)return this.buffer=a.alloc(0),this;if(typeof c.pipe=="function")return this.buffer=a.alloc(0),c.pipe(this),this;if(c.length||typeof c=="object")return this.buffer=c,this.writable=!1,process.nextTick(function(){this.emit("end",c),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof c+")")}h.inherits(g,o),g.prototype.write=function(n){this.buffer=a.concat([this.buffer,a.from(n)]),this.emit("data",n)},g.prototype.end=function(n){n&&this.write(n),this.emit("end",n),this.emit("close"),this.writable=!1,this.readable=!1},E.exports=g},255:(E,b,s)=>{var a=s(6873).Buffer,o=s(840),h=s(4647),g=s(2781),c=s(2395),n=s(3837);function e(u,f){return a.from(u,f).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function t(u,f,p){p=p||"utf8";var v=e(c(u),"binary"),w=e(c(f),p);return n.format("%s.%s",v,w)}function i(u){var f=u.header,p=u.payload,v=u.secret||u.privateKey,w=u.encoding,A=h(f.alg),S=t(f,p,w),y=A.sign(S,v);return n.format("%s.%s",S,y)}function r(u){var f=u.secret||u.privateKey||u.key,p=new o(f);this.readable=!0,this.header=u.header,this.encoding=u.encoding,this.secret=this.privateKey=this.key=p,this.payload=new o(u.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}n.inherits(r,g),r.prototype.sign=function(){try{var f=i({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",f),this.emit("data",f),this.emit("end"),this.readable=!1,f}catch(p){this.readable=!1,this.emit("error",p),this.emit("close")}},r.sign=i,E.exports=r},2395:(E,b,s)=>{var a=s(4300).Buffer;E.exports=function(h){return typeof h=="string"?h:typeof h=="number"||a.isBuffer(h)?h.toString():JSON.stringify(h)}},171:(E,b,s)=>{var a=s(6873).Buffer,o=s(840),h=s(4647),g=s(2781),c=s(2395),n=s(3837),e=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function t(y){return Object.prototype.toString.call(y)==="[object Object]"}function i(y){if(t(y))return y;try{return JSON.parse(y)}catch{return}}function r(y){var d=y.split(".",1)[0];return i(a.from(d,"base64").toString("binary"))}function u(y){return y.split(".",2).join(".")}function f(y){return y.split(".")[2]}function p(y,d){d=d||"utf8";var l=y.split(".")[1];return a.from(l,"base64").toString(d)}function v(y){return e.test(y)&&!!r(y)}function w(y,d,l){if(!d){var m=new Error("Missing algorithm parameter for jws.verify");throw m.code="MISSING_ALGORITHM",m}y=c(y);var x=f(y),R=u(y),M=h(d);return M.verify(R,x,l)}function A(y,d){if(d=d||{},y=c(y),!v(y))return null;var l=r(y);if(!l)return null;var m=p(y);return(l.typ==="JWT"||d.json)&&(m=JSON.parse(m,d.encoding)),{header:l,payload:m,signature:f(y)}}function S(y){y=y||{};var d=y.secret||y.publicKey||y.key,l=new o(d);this.readable=!0,this.algorithm=y.algorithm,this.encoding=y.encoding,this.secret=this.publicKey=this.key=l,this.signature=new o(y.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}n.inherits(S,g),S.prototype.verify=function(){try{var d=w(this.signature.buffer,this.algorithm,this.key.buffer),l=A(this.signature.buffer,this.encoding);return this.emit("done",d,l),this.emit("data",d),this.emit("end"),this.readable=!1,d}catch(m){this.readable=!1,this.emit("error",m),this.emit("close")}},S.decode=A,S.isValid=v,S.verify=w,E.exports=S},2545:E=>{var b=1/0,s=9007199254740991,a=17976931348623157e292,o=0/0,h="[object Arguments]",g="[object Function]",c="[object GeneratorFunction]",n="[object String]",e="[object Symbol]",t=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,u=/^0o[0-7]+$/i,f=/^(?:0|[1-9]\d*)$/,p=parseInt;function v(O,W){for(var K=-1,Z=O?O.length:0,Q=Array(Z);++K<Z;)Q[K]=W(O[K],K,O);return Q}function w(O,W,K,Z){for(var Q=O.length,te=K+(Z?1:-1);Z?te--:++te<Q;)if(W(O[te],te,O))return te;return-1}function A(O,W,K){if(W!==W)return w(O,S,K);for(var Z=K-1,Q=O.length;++Z<Q;)if(O[Z]===W)return Z;return-1}function S(O){return O!==O}function y(O,W){for(var K=-1,Z=Array(O);++K<O;)Z[K]=W(K);return Z}function d(O,W){return v(W,function(K){return O[K]})}function l(O,W){return function(K){return O(W(K))}}var m=Object.prototype,x=m.hasOwnProperty,R=m.toString,M=m.propertyIsEnumerable,N=l(Object.keys,Object),U=Math.max;function J(O,W){var K=B(O)||P(O)?y(O.length,String):[],Z=K.length,Q=!!Z;for(var te in O)(W||x.call(O,te))&&!(Q&&(te=="length"||_(te,Z)))&&K.push(te);return K}function H(O){if(!$(O))return N(O);var W=[];for(var K in Object(O))x.call(O,K)&&K!="constructor"&&W.push(K);return W}function _(O,W){return W=W??s,!!W&&(typeof O=="number"||f.test(O))&&O>-1&&O%1==0&&O<W}function $(O){var W=O&&O.constructor,K=typeof W=="function"&&W.prototype||m;return O===K}function T(O,W,K,Z){O=F(O)?O:ee(O),K=K&&!Z?Y(K):0;var Q=O.length;return K<0&&(K=U(Q+K,0)),D(O)?K<=Q&&O.indexOf(W,K)>-1:!!Q&&A(O,W,K)>-1}function P(O){return V(O)&&x.call(O,"callee")&&(!M.call(O,"callee")||R.call(O)==h)}var B=Array.isArray;function F(O){return O!=null&&C(O.length)&&!I(O)}function V(O){return L(O)&&F(O)}function I(O){var W=j(O)?R.call(O):"";return W==g||W==c}function C(O){return typeof O=="number"&&O>-1&&O%1==0&&O<=s}function j(O){var W=typeof O;return!!O&&(W=="object"||W=="function")}function L(O){return!!O&&typeof O=="object"}function D(O){return typeof O=="string"||!B(O)&&L(O)&&R.call(O)==n}function G(O){return typeof O=="symbol"||L(O)&&R.call(O)==e}function X(O){if(!O)return O===0?O:0;if(O=q(O),O===b||O===-b){var W=O<0?-1:1;return W*a}return O===O?O:0}function Y(O){var W=X(O),K=W%1;return W===W?K?W-K:W:0}function q(O){if(typeof O=="number")return O;if(G(O))return o;if(j(O)){var W=typeof O.valueOf=="function"?O.valueOf():O;O=j(W)?W+"":W}if(typeof O!="string")return O===0?O:+O;O=O.replace(t,"");var K=r.test(O);return K||u.test(O)?p(O.slice(2),K?2:8):i.test(O)?o:+O}function z(O){return F(O)?J(O):H(O)}function ee(O){return O?d(O,z(O)):[]}E.exports=T},5643:E=>{var b="[object Boolean]",s=Object.prototype,a=s.toString;function o(g){return g===!0||g===!1||h(g)&&a.call(g)==b}function h(g){return!!g&&typeof g=="object"}E.exports=o},9512:E=>{var b=1/0,s=17976931348623157e292,a=0/0,o="[object Symbol]",h=/^\s+|\s+$/g,g=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,n=/^0o[0-7]+$/i,e=parseInt,t=Object.prototype,i=t.toString;function r(S){return typeof S=="number"&&S==w(S)}function u(S){var y=typeof S;return!!S&&(y=="object"||y=="function")}function f(S){return!!S&&typeof S=="object"}function p(S){return typeof S=="symbol"||f(S)&&i.call(S)==o}function v(S){if(!S)return S===0?S:0;if(S=A(S),S===b||S===-b){var y=S<0?-1:1;return y*s}return S===S?S:0}function w(S){var y=v(S),d=y%1;return y===y?d?y-d:y:0}function A(S){if(typeof S=="number")return S;if(p(S))return a;if(u(S)){var y=typeof S.valueOf=="function"?S.valueOf():S;S=u(y)?y+"":y}if(typeof S!="string")return S===0?S:+S;S=S.replace(h,"");var d=c.test(S);return d||n.test(S)?e(S.slice(2),d?2:8):g.test(S)?a:+S}E.exports=r},5681:E=>{var b="[object Number]",s=Object.prototype,a=s.toString;function o(g){return!!g&&typeof g=="object"}function h(g){return typeof g=="number"||o(g)&&a.call(g)==b}E.exports=h},8493:E=>{var b="[object Object]";function s(u){var f=!1;if(u!=null&&typeof u.toString!="function")try{f=!!(u+"")}catch{}return f}function a(u,f){return function(p){return u(f(p))}}var o=Function.prototype,h=Object.prototype,g=o.toString,c=h.hasOwnProperty,n=g.call(Object),e=h.toString,t=a(Object.getPrototypeOf,Object);function i(u){return!!u&&typeof u=="object"}function r(u){if(!i(u)||e.call(u)!=b||s(u))return!1;var f=t(u);if(f===null)return!0;var p=c.call(f,"constructor")&&f.constructor;return typeof p=="function"&&p instanceof p&&g.call(p)==n}E.exports=r},3282:E=>{var b="[object String]",s=Object.prototype,a=s.toString,o=Array.isArray;function h(c){return!!c&&typeof c=="object"}function g(c){return typeof c=="string"||!o(c)&&h(c)&&a.call(c)==b}E.exports=g},4275:E=>{var b="Expected a function",s=1/0,a=17976931348623157e292,o=0/0,h="[object Symbol]",g=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,n=/^0b[01]+$/i,e=/^0o[0-7]+$/i,t=parseInt,i=Object.prototype,r=i.toString;function u(d,l){var m;if(typeof l!="function")throw new TypeError(b);return d=S(d),function(){return--d>0&&(m=l.apply(this,arguments)),d<=1&&(l=void 0),m}}function f(d){return u(2,d)}function p(d){var l=typeof d;return!!d&&(l=="object"||l=="function")}function v(d){return!!d&&typeof d=="object"}function w(d){return typeof d=="symbol"||v(d)&&r.call(d)==h}function A(d){if(!d)return d===0?d:0;if(d=y(d),d===s||d===-s){var l=d<0?-1:1;return l*a}return d===d?d:0}function S(d){var l=A(d),m=l%1;return l===l?m?l-m:l:0}function y(d){if(typeof d=="number")return d;if(w(d))return o;if(p(d)){var l=typeof d.valueOf=="function"?d.valueOf():d;d=p(l)?l+"":l}if(typeof d!="string")return d===0?d:+d;d=d.replace(g,"");var m=n.test(d);return m||e.test(d)?t(d.slice(2),m?2:8):c.test(d)?o:+d}E.exports=f},3553:(E,b,s)=>{E.exports=s(6674)},7985:E=>{E.exports=b=>b&&typeof b.then=="function"&&typeof b.catch=="function"},6674:(E,b,s)=>{const a=s(7985),o=s(942),h=(n,e,t)=>{const i=Array.from(n),r=u=>{try{if(u)return t(u);const f=i.shift();if(f){const p=f(e,r);if(p){if(!a(p))throw new Error("Unexpected return value in middleware");p.then(r).catch(t)}return}return t()}catch(f){return t(f)}};r()},g=(n,e,t)=>{const i=Array.from(n);e.__handledError=!1;const r=u=>{try{u||(e.__handledError=!0);const f=i.shift();if(f){const p=f(e,r);if(p){if(!a(p)){const v=new Error("Unexpected return value in onError middleware");throw v.originalError=u,v}p.then(r).catch(t)}return}return t(e.__handledError?null:u)}catch(f){return t(f)}};r(e.error)},c=n=>{const e=[],t=[],i=[],r=(u,f,p)=>{r.event=u,r.context=f,r.callback=p,r.response=null,r.error=null;const v=A=>A?p(A):p(null,r.response),w=A=>(r.error=A,g(i,r,v));h(e,r,A=>{if(A)return w(A);const S=o(l=>(r.response=null,w(l))),y=o(l=>{r.response=l,h(t,r,m=>m?w(m):v())}),d=n.call(r,r.event,f,(l,m)=>{if(l)return S(l);y(m)});if(d){if(!a(d))throw new Error("Unexpected return value in handler");d.then(y).catch(S)}})};return r.use=u=>{if(typeof u!="object")throw new Error("Middleware must be an object");const{before:f,after:p,onError:v}=u;if(!f&&!p&&!v)throw new Error('Middleware must contain at least one key among "before", "after", "onError"');return f&&r.before(f),p&&r.after(p),v&&r.onError(v),r},r.before=u=>(e.push(u),r),r.after=u=>(t.unshift(u),r),r.onError=u=>(i.push(u),r),r.__middlewares={before:e,after:t,onError:i},r};E.exports=c},5404:E=>{var b=1e3,s=b*60,a=s*60,o=a*24,h=o*7,g=o*365.25;E.exports=function(i,r){r=r||{};var u=typeof i;if(u==="string"&&i.length>0)return c(i);if(u==="number"&&isFinite(i))return r.long?e(i):n(i);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(i))};function c(i){if(i=String(i),!(i.length>100)){var r=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(i);if(r){var u=parseFloat(r[1]),f=(r[2]||"ms").toLowerCase();switch(f){case"years":case"year":case"yrs":case"yr":case"y":return u*g;case"weeks":case"week":case"w":return u*h;case"days":case"day":case"d":return u*o;case"hours":case"hour":case"hrs":case"hr":case"h":return u*a;case"minutes":case"minute":case"mins":case"min":case"m":return u*s;case"seconds":case"second":case"secs":case"sec":case"s":return u*b;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}}}function n(i){var r=Math.abs(i);return r>=o?Math.round(i/o)+"d":r>=a?Math.round(i/a)+"h":r>=s?Math.round(i/s)+"m":r>=b?Math.round(i/b)+"s":i+"ms"}function e(i){var r=Math.abs(i);return r>=o?t(i,r,o,"day"):r>=a?t(i,r,a,"hour"):r>=s?t(i,r,s,"minute"):r>=b?t(i,r,b,"second"):i+" ms"}function t(i,r,u,f){var p=r>=u*1.5;return Math.round(i/u)+" "+f+(p?"s":"")}},942:(E,b,s)=>{var a=s(7786);E.exports=a(o),E.exports.strict=a(h),o.proto=o(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return o(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return h(this)},configurable:!0})});function o(g){var c=function(){return c.called?c.value:(c.called=!0,c.value=g.apply(this,arguments))};return c.called=!1,c}function h(g){var c=function(){if(c.called)throw new Error(c.onceError);return c.called=!0,c.value=g.apply(this,arguments)},n=g.name||"Function wrapped with `once`";return c.onceError=n+" shouldn't be called more than once",c.called=!1,c}},6873:(E,b,s)=>{/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var a=s(4300),o=a.Buffer;function h(c,n){for(var e in c)n[e]=c[e]}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?E.exports=a:(h(a,b),b.Buffer=g);function g(c,n,e){return o(c,n,e)}g.prototype=Object.create(o.prototype),h(o,g),g.from=function(c,n,e){if(typeof c=="number")throw new TypeError("Argument must not be a number");return o(c,n,e)},g.alloc=function(c,n,e){if(typeof c!="number")throw new TypeError("Argument must be a number");var t=o(c);return n!==void 0?typeof e=="string"?t.fill(n,e):t.fill(n):t.fill(0),t},g.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return o(c)},g.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(c)}},5049:(E,b,s)=>{s(8685).install()},8685:(E,b,s)=>{E=s.nmd(E);var a=s(1461).SourceMapConsumer,o=s(1017),h;try{h=s(7147),(!h.existsSync||!h.readFileSync)&&(h=null)}catch{}var g=s(5358);function c(I,C){return I.require(C)}var n=!1,e=!1,t=!1,i="auto",r={},u={},f=/^data:application\/json[^,]+base64,/,p=[],v=[];function w(){return i==="browser"?!0:i==="node"?!1:typeof window<"u"&&typeof XMLHttpRequest=="function"&&!(window.require&&window.module&&window.process&&window.process.type==="renderer")}function A(){return typeof process=="object"&&process!==null&&typeof process.on=="function"}function S(){return typeof process=="object"&&process!==null?process.version:""}function y(){if(typeof process=="object"&&process!==null)return process.stderr}function d(I){if(typeof process=="object"&&process!==null&&typeof process.exit=="function")return process.exit(I)}function l(I){return function(C){for(var j=0;j<I.length;j++){var L=I[j](C);if(L)return L}return null}}var m=l(p);p.push(function(I){if(I=I.trim(),/^file:/.test(I)&&(I=I.replace(/file:\/\/\/(\w:)?/,function(L,D){return D?"":"/"})),I in r)return r[I];var C="";try{if(h)h.existsSync(I)&&(C=h.readFileSync(I,"utf8"));else{var j=new XMLHttpRequest;j.open("GET",I,!1),j.send(null),j.readyState===4&&j.status===200&&(C=j.responseText)}}catch{}return r[I]=C});function x(I,C){if(!I)return C;var j=o.dirname(I),L=/^\w+:\/\/[^\/]*/.exec(j),D=L?L[0]:"",G=j.slice(D.length);return D&&/^\/\w\:/.test(G)?(D+="/",D+o.resolve(j.slice(D.length),C).replace(/\\/g,"/")):D+o.resolve(j.slice(D.length),C)}function R(I){var C;if(w())try{var j=new XMLHttpRequest;j.open("GET",I,!1),j.send(null),C=j.readyState===4?j.responseText:null;var L=j.getResponseHeader("SourceMap")||j.getResponseHeader("X-SourceMap");if(L)return L}catch{}C=m(I);for(var D=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg,G,X;X=D.exec(C);)G=X;return G?G[1]:null}var M=l(v);v.push(function(I){var C=R(I);if(!C)return null;var j;if(f.test(C)){var L=C.slice(C.indexOf(",")+1);j=g(L,"base64").toString(),C=I}else C=x(I,C),j=m(C);return j?{url:C,map:j}:null});function N(I){var C=u[I.source];if(!C){var j=M(I.source);j?(C=u[I.source]={url:j.url,map:new a(j.map)},C.map.sourcesContent&&C.map.sources.forEach(function(D,G){var X=C.map.sourcesContent[G];if(X){var Y=x(C.url,D);r[Y]=X}})):C=u[I.source]={url:null,map:null}}if(C&&C.map&&typeof C.map.originalPositionFor=="function"){var L=C.map.originalPositionFor(I);if(L.source!==null)return L.source=x(C.url,L.source),L}return I}function U(I){var C=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(I);if(C){var j=N({source:C[2],line:+C[3],column:C[4]-1});return"eval at "+C[1]+" ("+j.source+":"+j.line+":"+(j.column+1)+")"}return C=/^eval at ([^(]+) \((.+)\)$/.exec(I),C?"eval at "+C[1]+" ("+U(C[2])+")":I}function J(){var I,C="";if(this.isNative())C="native";else{I=this.getScriptNameOrSourceURL(),!I&&this.isEval()&&(C=this.getEvalOrigin(),C+=", "),I?C+=I:C+="<anonymous>";var j=this.getLineNumber();if(j!=null){C+=":"+j;var L=this.getColumnNumber();L&&(C+=":"+L)}}var D="",G=this.getFunctionName(),X=!0,Y=this.isConstructor(),q=!(this.isToplevel()||Y);if(q){var z=this.getTypeName();z==="[object Object]"&&(z="null");var ee=this.getMethodName();G?(z&&G.indexOf(z)!=0&&(D+=z+"."),D+=G,ee&&G.indexOf("."+ee)!=G.length-ee.length-1&&(D+=" [as "+ee+"]")):D+=z+"."+(ee||"<anonymous>")}else Y?D+="new "+(G||"<anonymous>"):G?D+=G:(D+=C,X=!1);return X&&(D+=" ("+C+")"),D}function H(I){var C={};return Object.getOwnPropertyNames(Object.getPrototypeOf(I)).forEach(function(j){C[j]=/^(?:is|get)/.test(j)?function(){return I[j].call(I)}:I[j]}),C.toString=J,C}function _(I,C){if(C===void 0&&(C={nextPosition:null,curPosition:null}),I.isNative())return C.curPosition=null,I;var j=I.getFileName()||I.getScriptNameOrSourceURL();if(j){var L=I.getLineNumber(),D=I.getColumnNumber()-1,G=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/,X=G.test(S())?0:62;L===1&&D>X&&!w()&&!I.isEval()&&(D-=X);var Y=N({source:j,line:L,column:D});C.curPosition=Y,I=H(I);var q=I.getFunctionName;return I.getFunctionName=function(){return C.nextPosition==null?q():C.nextPosition.name||q()},I.getFileName=function(){return Y.source},I.getLineNumber=function(){return Y.line},I.getColumnNumber=function(){return Y.column+1},I.getScriptNameOrSourceURL=function(){return Y.source},I}var z=I.isEval()&&I.getEvalOrigin();return z&&(z=U(z),I=H(I),I.getEvalOrigin=function(){return z}),I}function $(I,C){t&&(r={},u={});for(var j=I.name||"Error",L=I.message||"",D=j+": "+L,G={nextPosition:null,curPosition:null},X=[],Y=C.length-1;Y>=0;Y--)X.push(`
    at `+_(C[Y],G)),G.nextPosition=G.curPosition;return G.curPosition=G.nextPosition=null,D+X.reverse().join("")}function T(I){var C=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(I.stack);if(C){var j=C[1],L=+C[2],D=+C[3],G=r[j];if(!G&&h&&h.existsSync(j))try{G=h.readFileSync(j,"utf8")}catch{G=""}if(G){var X=G.split(/(?:\r\n|\r|\n)/)[L-1];if(X)return j+":"+L+`
`+X+`
`+new Array(D).join(" ")+"^"}}return null}function P(I){var C=T(I),j=y();j&&j._handle&&j._handle.setBlocking&&j._handle.setBlocking(!0),C&&(console.error(),console.error(C)),console.error(I.stack),d(1)}function B(){var I=process.emit;process.emit=function(C){if(C==="uncaughtException"){var j=arguments[1]&&arguments[1].stack,L=this.listeners(C).length>0;if(j&&!L)return P(arguments[1])}return I.apply(this,arguments)}}var F=p.slice(0),V=v.slice(0);b.wrapCallSite=_,b.getErrorSource=T,b.mapSourcePosition=N,b.retrieveSourceMap=M,b.install=function(I){if(I=I||{},I.environment&&(i=I.environment,["node","browser","auto"].indexOf(i)===-1))throw new Error("environment "+i+" was unknown. Available options are {auto, browser, node}");if(I.retrieveFile&&(I.overrideRetrieveFile&&(p.length=0),p.unshift(I.retrieveFile)),I.retrieveSourceMap&&(I.overrideRetrieveSourceMap&&(v.length=0),v.unshift(I.retrieveSourceMap)),I.hookRequire&&!w()){var C=c(E,"module"),j=C.prototype._compile;j.__sourceMapSupport||(C.prototype._compile=function(G,X){return r[X]=G,u[X]=void 0,j.call(this,G,X)},C.prototype._compile.__sourceMapSupport=!0)}if(t||(t="emptyCacheBetweenOperations"in I?I.emptyCacheBetweenOperations:!1),n||(n=!0,Error.prepareStackTrace=$),!e){var L="handleUncaughtExceptions"in I?I.handleUncaughtExceptions:!0;try{var D=c(E,"worker_threads");D.isMainThread===!1&&(L=!1)}catch{}L&&A()&&(e=!0,B())}},b.resetRetrieveHandlers=function(){p.length=0,v.length=0,p=F.slice(0),v=V.slice(0),M=l(v),m=l(p)}},3668:(E,b,s)=>{var a=s(8930),o=Object.prototype.hasOwnProperty,h=typeof Map<"u";function g(){this._array=[],this._set=h?new Map:Object.create(null)}g.fromArray=function(n,e){for(var t=new g,i=0,r=n.length;i<r;i++)t.add(n[i],e);return t},g.prototype.size=function(){return h?this._set.size:Object.getOwnPropertyNames(this._set).length},g.prototype.add=function(n,e){var t=h?n:a.toSetString(n),i=h?this.has(n):o.call(this._set,t),r=this._array.length;(!i||e)&&this._array.push(n),i||(h?this._set.set(n,r):this._set[t]=r)},g.prototype.has=function(n){if(h)return this._set.has(n);var e=a.toSetString(n);return o.call(this._set,e)},g.prototype.indexOf=function(n){if(h){var e=this._set.get(n);if(e>=0)return e}else{var t=a.toSetString(n);if(o.call(this._set,t))return this._set[t]}throw new Error('"'+n+'" is not in the set.')},g.prototype.at=function(n){if(n>=0&&n<this._array.length)return this._array[n];throw new Error("No element indexed by "+n)},g.prototype.toArray=function(){return this._array.slice()},b.I=g},6158:(E,b,s)=>{var a=s(9977),o=5,h=1<<o,g=h-1,c=h;function n(t){return t<0?(-t<<1)+1:(t<<1)+0}function e(t){var i=(t&1)===1,r=t>>1;return i?-r:r}b.encode=function(i){var r="",u,f=n(i);do u=f&g,f>>>=o,f>0&&(u|=c),r+=a.encode(u);while(f>0);return r},b.decode=function(i,r,u){var f=i.length,p=0,v=0,w,A;do{if(r>=f)throw new Error("Expected more digits in base 64 VLQ value.");if(A=a.decode(i.charCodeAt(r++)),A===-1)throw new Error("Invalid base64 digit: "+i.charAt(r-1));w=!!(A&c),A&=g,p=p+(A<<v),v+=o}while(w);u.value=e(p),u.rest=r}},9977:(E,b)=>{var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");b.encode=function(a){if(0<=a&&a<s.length)return s[a];throw new TypeError("Must be between 0 and 63: "+a)},b.decode=function(a){var o=65,h=90,g=97,c=122,n=48,e=57,t=43,i=47,r=26,u=52;return o<=a&&a<=h?a-o:g<=a&&a<=c?a-g+r:n<=a&&a<=e?a-n+u:a==t?62:a==i?63:-1}},7063:(E,b)=>{b.GREATEST_LOWER_BOUND=1,b.LEAST_UPPER_BOUND=2;function s(a,o,h,g,c,n){var e=Math.floor((o-a)/2)+a,t=c(h,g[e],!0);return t===0?e:t>0?o-e>1?s(e,o,h,g,c,n):n==b.LEAST_UPPER_BOUND?o<g.length?o:-1:e:e-a>1?s(a,e,h,g,c,n):n==b.LEAST_UPPER_BOUND?e:a<0?-1:a}b.search=function(o,h,g,c){if(h.length===0)return-1;var n=s(-1,h.length,o,h,g,c||b.GREATEST_LOWER_BOUND);if(n<0)return-1;for(;n-1>=0&&g(h[n],h[n-1],!0)===0;)--n;return n}},1923:(E,b,s)=>{var a=s(8930);function o(g,c){var n=g.generatedLine,e=c.generatedLine,t=g.generatedColumn,i=c.generatedColumn;return e>n||e==n&&i>=t||a.compareByGeneratedPositionsInflated(g,c)<=0}function h(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}h.prototype.unsortedForEach=function(c,n){this._array.forEach(c,n)},h.prototype.add=function(c){o(this._last,c)?(this._last=c,this._array.push(c)):(this._sorted=!1,this._array.push(c))},h.prototype.toArray=function(){return this._sorted||(this._array.sort(a.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},b.H=h},5645:(E,b)=>{function s(h,g,c){var n=h[g];h[g]=h[c],h[c]=n}function a(h,g){return Math.round(h+Math.random()*(g-h))}function o(h,g,c,n){if(c<n){var e=a(c,n),t=c-1;s(h,e,n);for(var i=h[n],r=c;r<n;r++)g(h[r],i)<=0&&(t+=1,s(h,t,r));s(h,t+1,r);var u=t+1;o(h,g,c,u-1),o(h,g,u+1,n)}}b.U=function(h,g){o(h,g,0,h.length-1)}},7094:(E,b,s)=>{var a,o=s(8930),h=s(7063),g=s(3668).I,c=s(6158),n=s(5645).U;function e(u,f){var p=u;return typeof u=="string"&&(p=o.parseSourceMapInput(u)),p.sections!=null?new r(p,f):new t(p,f)}e.fromSourceMap=function(u,f){return t.fromSourceMap(u,f)},e.prototype._version=3,e.prototype.__generatedMappings=null,Object.defineProperty(e.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),e.prototype.__originalMappings=null,Object.defineProperty(e.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),e.prototype._charIsMappingSeparator=function(f,p){var v=f.charAt(p);return v===";"||v===","},e.prototype._parseMappings=function(f,p){throw new Error("Subclasses must implement _parseMappings")},e.GENERATED_ORDER=1,e.ORIGINAL_ORDER=2,e.GREATEST_LOWER_BOUND=1,e.LEAST_UPPER_BOUND=2,e.prototype.eachMapping=function(f,p,v){var w=p||null,A=v||e.GENERATED_ORDER,S;switch(A){case e.GENERATED_ORDER:S=this._generatedMappings;break;case e.ORIGINAL_ORDER:S=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var y=this.sourceRoot;S.map(function(d){var l=d.source===null?null:this._sources.at(d.source);return l=o.computeSourceURL(y,l,this._sourceMapURL),{source:l,generatedLine:d.generatedLine,generatedColumn:d.generatedColumn,originalLine:d.originalLine,originalColumn:d.originalColumn,name:d.name===null?null:this._names.at(d.name)}},this).forEach(f,w)},e.prototype.allGeneratedPositionsFor=function(f){var p=o.getArg(f,"line"),v={source:o.getArg(f,"source"),originalLine:p,originalColumn:o.getArg(f,"column",0)};if(v.source=this._findSourceIndex(v.source),v.source<0)return[];var w=[],A=this._findMapping(v,this._originalMappings,"originalLine","originalColumn",o.compareByOriginalPositions,h.LEAST_UPPER_BOUND);if(A>=0){var S=this._originalMappings[A];if(f.column===void 0)for(var y=S.originalLine;S&&S.originalLine===y;)w.push({line:o.getArg(S,"generatedLine",null),column:o.getArg(S,"generatedColumn",null),lastColumn:o.getArg(S,"lastGeneratedColumn",null)}),S=this._originalMappings[++A];else for(var d=S.originalColumn;S&&S.originalLine===p&&S.originalColumn==d;)w.push({line:o.getArg(S,"generatedLine",null),column:o.getArg(S,"generatedColumn",null),lastColumn:o.getArg(S,"lastGeneratedColumn",null)}),S=this._originalMappings[++A]}return w},b.SourceMapConsumer=e;function t(u,f){var p=u;typeof u=="string"&&(p=o.parseSourceMapInput(u));var v=o.getArg(p,"version"),w=o.getArg(p,"sources"),A=o.getArg(p,"names",[]),S=o.getArg(p,"sourceRoot",null),y=o.getArg(p,"sourcesContent",null),d=o.getArg(p,"mappings"),l=o.getArg(p,"file",null);if(v!=this._version)throw new Error("Unsupported version: "+v);S&&(S=o.normalize(S)),w=w.map(String).map(o.normalize).map(function(m){return S&&o.isAbsolute(S)&&o.isAbsolute(m)?o.relative(S,m):m}),this._names=g.fromArray(A.map(String),!0),this._sources=g.fromArray(w,!0),this._absoluteSources=this._sources.toArray().map(function(m){return o.computeSourceURL(S,m,f)}),this.sourceRoot=S,this.sourcesContent=y,this._mappings=d,this._sourceMapURL=f,this.file=l}t.prototype=Object.create(e.prototype),t.prototype.consumer=e,t.prototype._findSourceIndex=function(u){var f=u;if(this.sourceRoot!=null&&(f=o.relative(this.sourceRoot,f)),this._sources.has(f))return this._sources.indexOf(f);var p;for(p=0;p<this._absoluteSources.length;++p)if(this._absoluteSources[p]==u)return p;return-1},t.fromSourceMap=function(f,p){var v=Object.create(t.prototype),w=v._names=g.fromArray(f._names.toArray(),!0),A=v._sources=g.fromArray(f._sources.toArray(),!0);v.sourceRoot=f._sourceRoot,v.sourcesContent=f._generateSourcesContent(v._sources.toArray(),v.sourceRoot),v.file=f._file,v._sourceMapURL=p,v._absoluteSources=v._sources.toArray().map(function(M){return o.computeSourceURL(v.sourceRoot,M,p)});for(var S=f._mappings.toArray().slice(),y=v.__generatedMappings=[],d=v.__originalMappings=[],l=0,m=S.length;l<m;l++){var x=S[l],R=new i;R.generatedLine=x.generatedLine,R.generatedColumn=x.generatedColumn,x.source&&(R.source=A.indexOf(x.source),R.originalLine=x.originalLine,R.originalColumn=x.originalColumn,x.name&&(R.name=w.indexOf(x.name)),d.push(R)),y.push(R)}return n(v.__originalMappings,o.compareByOriginalPositions),v},t.prototype._version=3,Object.defineProperty(t.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function i(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}t.prototype._parseMappings=function(f,p){for(var v=1,w=0,A=0,S=0,y=0,d=0,l=f.length,m=0,x={},R={},M=[],N=[],U,J,H,_,$;m<l;)if(f.charAt(m)===";")v++,m++,w=0;else if(f.charAt(m)===",")m++;else{for(U=new i,U.generatedLine=v,_=m;_<l&&!this._charIsMappingSeparator(f,_);_++);if(J=f.slice(m,_),H=x[J],H)m+=J.length;else{for(H=[];m<_;)c.decode(f,m,R),$=R.value,m=R.rest,H.push($);if(H.length===2)throw new Error("Found a source, but no line and column");if(H.length===3)throw new Error("Found a source and line, but no column");x[J]=H}U.generatedColumn=w+H[0],w=U.generatedColumn,H.length>1&&(U.source=y+H[1],y+=H[1],U.originalLine=A+H[2],A=U.originalLine,U.originalLine+=1,U.originalColumn=S+H[3],S=U.originalColumn,H.length>4&&(U.name=d+H[4],d+=H[4])),N.push(U),typeof U.originalLine=="number"&&M.push(U)}n(N,o.compareByGeneratedPositionsDeflated),this.__generatedMappings=N,n(M,o.compareByOriginalPositions),this.__originalMappings=M},t.prototype._findMapping=function(f,p,v,w,A,S){if(f[v]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+f[v]);if(f[w]<0)throw new TypeError("Column must be greater than or equal to 0, got "+f[w]);return h.search(f,p,A,S)},t.prototype.computeColumnSpans=function(){for(var f=0;f<this._generatedMappings.length;++f){var p=this._generatedMappings[f];if(f+1<this._generatedMappings.length){var v=this._generatedMappings[f+1];if(p.generatedLine===v.generatedLine){p.lastGeneratedColumn=v.generatedColumn-1;continue}}p.lastGeneratedColumn=1/0}},t.prototype.originalPositionFor=function(f){var p={generatedLine:o.getArg(f,"line"),generatedColumn:o.getArg(f,"column")},v=this._findMapping(p,this._generatedMappings,"generatedLine","generatedColumn",o.compareByGeneratedPositionsDeflated,o.getArg(f,"bias",e.GREATEST_LOWER_BOUND));if(v>=0){var w=this._generatedMappings[v];if(w.generatedLine===p.generatedLine){var A=o.getArg(w,"source",null);A!==null&&(A=this._sources.at(A),A=o.computeSourceURL(this.sourceRoot,A,this._sourceMapURL));var S=o.getArg(w,"name",null);return S!==null&&(S=this._names.at(S)),{source:A,line:o.getArg(w,"originalLine",null),column:o.getArg(w,"originalColumn",null),name:S}}}return{source:null,line:null,column:null,name:null}},t.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(f){return f==null}):!1},t.prototype.sourceContentFor=function(f,p){if(!this.sourcesContent)return null;var v=this._findSourceIndex(f);if(v>=0)return this.sourcesContent[v];var w=f;this.sourceRoot!=null&&(w=o.relative(this.sourceRoot,w));var A;if(this.sourceRoot!=null&&(A=o.urlParse(this.sourceRoot))){var S=w.replace(/^file:\/\//,"");if(A.scheme=="file"&&this._sources.has(S))return this.sourcesContent[this._sources.indexOf(S)];if((!A.path||A.path=="/")&&this._sources.has("/"+w))return this.sourcesContent[this._sources.indexOf("/"+w)]}if(p)return null;throw new Error('"'+w+'" is not in the SourceMap.')},t.prototype.generatedPositionFor=function(f){var p=o.getArg(f,"source");if(p=this._findSourceIndex(p),p<0)return{line:null,column:null,lastColumn:null};var v={source:p,originalLine:o.getArg(f,"line"),originalColumn:o.getArg(f,"column")},w=this._findMapping(v,this._originalMappings,"originalLine","originalColumn",o.compareByOriginalPositions,o.getArg(f,"bias",e.GREATEST_LOWER_BOUND));if(w>=0){var A=this._originalMappings[w];if(A.source===v.source)return{line:o.getArg(A,"generatedLine",null),column:o.getArg(A,"generatedColumn",null),lastColumn:o.getArg(A,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},a=t;function r(u,f){var p=u;typeof u=="string"&&(p=o.parseSourceMapInput(u));var v=o.getArg(p,"version"),w=o.getArg(p,"sections");if(v!=this._version)throw new Error("Unsupported version: "+v);this._sources=new g,this._names=new g;var A={line:-1,column:0};this._sections=w.map(function(S){if(S.url)throw new Error("Support for url field in sections not implemented.");var y=o.getArg(S,"offset"),d=o.getArg(y,"line"),l=o.getArg(y,"column");if(d<A.line||d===A.line&&l<A.column)throw new Error("Section offsets must be ordered and non-overlapping.");return A=y,{generatedOffset:{generatedLine:d+1,generatedColumn:l+1},consumer:new e(o.getArg(S,"map"),f)}})}r.prototype=Object.create(e.prototype),r.prototype.constructor=e,r.prototype._version=3,Object.defineProperty(r.prototype,"sources",{get:function(){for(var u=[],f=0;f<this._sections.length;f++)for(var p=0;p<this._sections[f].consumer.sources.length;p++)u.push(this._sections[f].consumer.sources[p]);return u}}),r.prototype.originalPositionFor=function(f){var p={generatedLine:o.getArg(f,"line"),generatedColumn:o.getArg(f,"column")},v=h.search(p,this._sections,function(A,S){var y=A.generatedLine-S.generatedOffset.generatedLine;return y||A.generatedColumn-S.generatedOffset.generatedColumn}),w=this._sections[v];return w?w.consumer.originalPositionFor({line:p.generatedLine-(w.generatedOffset.generatedLine-1),column:p.generatedColumn-(w.generatedOffset.generatedLine===p.generatedLine?w.generatedOffset.generatedColumn-1:0),bias:f.bias}):{source:null,line:null,column:null,name:null}},r.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(f){return f.consumer.hasContentsOfAllSources()})},r.prototype.sourceContentFor=function(f,p){for(var v=0;v<this._sections.length;v++){var w=this._sections[v],A=w.consumer.sourceContentFor(f,!0);if(A)return A}if(p)return null;throw new Error('"'+f+'" is not in the SourceMap.')},r.prototype.generatedPositionFor=function(f){for(var p=0;p<this._sections.length;p++){var v=this._sections[p];if(v.consumer._findSourceIndex(o.getArg(f,"source"))!==-1){var w=v.consumer.generatedPositionFor(f);if(w){var A={line:w.line+(v.generatedOffset.generatedLine-1),column:w.column+(v.generatedOffset.generatedLine===w.line?v.generatedOffset.generatedColumn-1:0)};return A}}}return{line:null,column:null}},r.prototype._parseMappings=function(f,p){this.__generatedMappings=[],this.__originalMappings=[];for(var v=0;v<this._sections.length;v++)for(var w=this._sections[v],A=w.consumer._generatedMappings,S=0;S<A.length;S++){var y=A[S],d=w.consumer._sources.at(y.source);d=o.computeSourceURL(w.consumer.sourceRoot,d,this._sourceMapURL),this._sources.add(d),d=this._sources.indexOf(d);var l=null;y.name&&(l=w.consumer._names.at(y.name),this._names.add(l),l=this._names.indexOf(l));var m={source:d,generatedLine:y.generatedLine+(w.generatedOffset.generatedLine-1),generatedColumn:y.generatedColumn+(w.generatedOffset.generatedLine===y.generatedLine?w.generatedOffset.generatedColumn-1:0),originalLine:y.originalLine,originalColumn:y.originalColumn,name:l};this.__generatedMappings.push(m),typeof m.originalLine=="number"&&this.__originalMappings.push(m)}n(this.__generatedMappings,o.compareByGeneratedPositionsDeflated),n(this.__originalMappings,o.compareByOriginalPositions)},a=r},8458:(E,b,s)=>{var a=s(6158),o=s(8930),h=s(3668).I,g=s(1923).H;function c(n){n||(n={}),this._file=o.getArg(n,"file",null),this._sourceRoot=o.getArg(n,"sourceRoot",null),this._skipValidation=o.getArg(n,"skipValidation",!1),this._sources=new h,this._names=new h,this._mappings=new g,this._sourcesContents=null}c.prototype._version=3,c.fromSourceMap=function(e){var t=e.sourceRoot,i=new c({file:e.file,sourceRoot:t});return e.eachMapping(function(r){var u={generated:{line:r.generatedLine,column:r.generatedColumn}};r.source!=null&&(u.source=r.source,t!=null&&(u.source=o.relative(t,u.source)),u.original={line:r.originalLine,column:r.originalColumn},r.name!=null&&(u.name=r.name)),i.addMapping(u)}),e.sources.forEach(function(r){var u=r;t!==null&&(u=o.relative(t,r)),i._sources.has(u)||i._sources.add(u);var f=e.sourceContentFor(r);f!=null&&i.setSourceContent(r,f)}),i},c.prototype.addMapping=function(e){var t=o.getArg(e,"generated"),i=o.getArg(e,"original",null),r=o.getArg(e,"source",null),u=o.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,i,r,u),r!=null&&(r=String(r),this._sources.has(r)||this._sources.add(r)),u!=null&&(u=String(u),this._names.has(u)||this._names.add(u)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:i!=null&&i.line,originalColumn:i!=null&&i.column,source:r,name:u})},c.prototype.setSourceContent=function(e,t){var i=e;this._sourceRoot!=null&&(i=o.relative(this._sourceRoot,i)),t!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[o.toSetString(i)]=t):this._sourcesContents&&(delete this._sourcesContents[o.toSetString(i)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},c.prototype.applySourceMap=function(e,t,i){var r=t;if(t==null){if(e.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);r=e.file}var u=this._sourceRoot;u!=null&&(r=o.relative(u,r));var f=new h,p=new h;this._mappings.unsortedForEach(function(v){if(v.source===r&&v.originalLine!=null){var w=e.originalPositionFor({line:v.originalLine,column:v.originalColumn});w.source!=null&&(v.source=w.source,i!=null&&(v.source=o.join(i,v.source)),u!=null&&(v.source=o.relative(u,v.source)),v.originalLine=w.line,v.originalColumn=w.column,w.name!=null&&(v.name=w.name))}var A=v.source;A!=null&&!f.has(A)&&f.add(A);var S=v.name;S!=null&&!p.has(S)&&p.add(S)},this),this._sources=f,this._names=p,e.sources.forEach(function(v){var w=e.sourceContentFor(v);w!=null&&(i!=null&&(v=o.join(i,v)),u!=null&&(v=o.relative(u,v)),this.setSourceContent(v,w))},this)},c.prototype._validateMapping=function(e,t,i,r){if(t&&typeof t.line!="number"&&typeof t.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0&&!t&&!i&&!r)){if(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&i)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:i,original:t,name:r}))}},c.prototype._serializeMappings=function(){for(var e=0,t=1,i=0,r=0,u=0,f=0,p="",v,w,A,S,y=this._mappings.toArray(),d=0,l=y.length;d<l;d++){if(w=y[d],v="",w.generatedLine!==t)for(e=0;w.generatedLine!==t;)v+=";",t++;else if(d>0){if(!o.compareByGeneratedPositionsInflated(w,y[d-1]))continue;v+=","}v+=a.encode(w.generatedColumn-e),e=w.generatedColumn,w.source!=null&&(S=this._sources.indexOf(w.source),v+=a.encode(S-f),f=S,v+=a.encode(w.originalLine-1-r),r=w.originalLine-1,v+=a.encode(w.originalColumn-i),i=w.originalColumn,w.name!=null&&(A=this._names.indexOf(w.name),v+=a.encode(A-u),u=A)),p+=v}return p},c.prototype._generateSourcesContent=function(e,t){return e.map(function(i){if(!this._sourcesContents)return null;t!=null&&(i=o.relative(t,i));var r=o.toSetString(i);return Object.prototype.hasOwnProperty.call(this._sourcesContents,r)?this._sourcesContents[r]:null},this)},c.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(e.file=this._file),this._sourceRoot!=null&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},c.prototype.toString=function(){return JSON.stringify(this.toJSON())},b.h=c},2771:(E,b,s)=>{var a,o=s(8458).h,h=s(8930),g=/(\r?\n)/,c=10,n="$$$isSourceNode$$$";function e(t,i,r,u,f){this.children=[],this.sourceContents={},this.line=t??null,this.column=i??null,this.source=r??null,this.name=f??null,this[n]=!0,u!=null&&this.add(u)}e.fromStringWithSourceMap=function(i,r,u){var f=new e,p=i.split(g),v=0,w=function(){var l=x(),m=x()||"";return l+m;function x(){return v<p.length?p[v++]:void 0}},A=1,S=0,y=null;return r.eachMapping(function(l){if(y!==null)if(A<l.generatedLine)d(y,w()),A++,S=0;else{var m=p[v]||"",x=m.substr(0,l.generatedColumn-S);p[v]=m.substr(l.generatedColumn-S),S=l.generatedColumn,d(y,x),y=l;return}for(;A<l.generatedLine;)f.add(w()),A++;if(S<l.generatedColumn){var m=p[v]||"";f.add(m.substr(0,l.generatedColumn)),p[v]=m.substr(l.generatedColumn),S=l.generatedColumn}y=l},this),v<p.length&&(y&&d(y,w()),f.add(p.splice(v).join(""))),r.sources.forEach(function(l){var m=r.sourceContentFor(l);m!=null&&(u!=null&&(l=h.join(u,l)),f.setSourceContent(l,m))}),f;function d(l,m){if(l===null||l.source===void 0)f.add(m);else{var x=u?h.join(u,l.source):l.source;f.add(new e(l.originalLine,l.originalColumn,x,m,l.name))}}},e.prototype.add=function(i){if(Array.isArray(i))i.forEach(function(r){this.add(r)},this);else if(i[n]||typeof i=="string")i&&this.children.push(i);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+i);return this},e.prototype.prepend=function(i){if(Array.isArray(i))for(var r=i.length-1;r>=0;r--)this.prepend(i[r]);else if(i[n]||typeof i=="string")this.children.unshift(i);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+i);return this},e.prototype.walk=function(i){for(var r,u=0,f=this.children.length;u<f;u++)r=this.children[u],r[n]?r.walk(i):r!==""&&i(r,{source:this.source,line:this.line,column:this.column,name:this.name})},e.prototype.join=function(i){var r,u,f=this.children.length;if(f>0){for(r=[],u=0;u<f-1;u++)r.push(this.children[u]),r.push(i);r.push(this.children[u]),this.children=r}return this},e.prototype.replaceRight=function(i,r){var u=this.children[this.children.length-1];return u[n]?u.replaceRight(i,r):typeof u=="string"?this.children[this.children.length-1]=u.replace(i,r):this.children.push("".replace(i,r)),this},e.prototype.setSourceContent=function(i,r){this.sourceContents[h.toSetString(i)]=r},e.prototype.walkSourceContents=function(i){for(var r=0,u=this.children.length;r<u;r++)this.children[r][n]&&this.children[r].walkSourceContents(i);for(var f=Object.keys(this.sourceContents),r=0,u=f.length;r<u;r++)i(h.fromSetString(f[r]),this.sourceContents[f[r]])},e.prototype.toString=function(){var i="";return this.walk(function(r){i+=r}),i},e.prototype.toStringWithSourceMap=function(i){var r={code:"",line:1,column:0},u=new o(i),f=!1,p=null,v=null,w=null,A=null;return this.walk(function(S,y){r.code+=S,y.source!==null&&y.line!==null&&y.column!==null?((p!==y.source||v!==y.line||w!==y.column||A!==y.name)&&u.addMapping({source:y.source,original:{line:y.line,column:y.column},generated:{line:r.line,column:r.column},name:y.name}),p=y.source,v=y.line,w=y.column,A=y.name,f=!0):f&&(u.addMapping({generated:{line:r.line,column:r.column}}),p=null,f=!1);for(var d=0,l=S.length;d<l;d++)S.charCodeAt(d)===c?(r.line++,r.column=0,d+1===l?(p=null,f=!1):f&&u.addMapping({source:y.source,original:{line:y.line,column:y.column},generated:{line:r.line,column:r.column},name:y.name})):r.column++}),this.walkSourceContents(function(S,y){u.setSourceContent(S,y)}),{code:r.code,map:u}},a=e},8930:(E,b)=>{function s(d,l,m){if(l in d)return d[l];if(arguments.length===3)return m;throw new Error('"'+l+'" is a required argument.')}b.getArg=s;var a=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,o=/^data:.+\,.+$/;function h(d){var l=d.match(a);return l?{scheme:l[1],auth:l[2],host:l[3],port:l[4],path:l[5]}:null}b.urlParse=h;function g(d){var l="";return d.scheme&&(l+=d.scheme+":"),l+="//",d.auth&&(l+=d.auth+"@"),d.host&&(l+=d.host),d.port&&(l+=":"+d.port),d.path&&(l+=d.path),l}b.urlGenerate=g;function c(d){var l=d,m=h(d);if(m){if(!m.path)return d;l=m.path}for(var x=b.isAbsolute(l),R=l.split(/\/+/),M,N=0,U=R.length-1;U>=0;U--)M=R[U],M==="."?R.splice(U,1):M===".."?N++:N>0&&(M===""?(R.splice(U+1,N),N=0):(R.splice(U,2),N--));return l=R.join("/"),l===""&&(l=x?"/":"."),m?(m.path=l,g(m)):l}b.normalize=c;function n(d,l){d===""&&(d="."),l===""&&(l=".");var m=h(l),x=h(d);if(x&&(d=x.path||"/"),m&&!m.scheme)return x&&(m.scheme=x.scheme),g(m);if(m||l.match(o))return l;if(x&&!x.host&&!x.path)return x.host=l,g(x);var R=l.charAt(0)==="/"?l:c(d.replace(/\/+$/,"")+"/"+l);return x?(x.path=R,g(x)):R}b.join=n,b.isAbsolute=function(d){return d.charAt(0)==="/"||a.test(d)};function e(d,l){d===""&&(d="."),d=d.replace(/\/$/,"");for(var m=0;l.indexOf(d+"/")!==0;){var x=d.lastIndexOf("/");if(x<0||(d=d.slice(0,x),d.match(/^([^\/]+:\/)?\/*$/)))return l;++m}return Array(m+1).join("../")+l.substr(d.length+1)}b.relative=e;var t=function(){var d=Object.create(null);return!("__proto__"in d)}();function i(d){return d}function r(d){return f(d)?"$"+d:d}b.toSetString=t?i:r;function u(d){return f(d)?d.slice(1):d}b.fromSetString=t?i:u;function f(d){if(!d)return!1;var l=d.length;if(l<9||d.charCodeAt(l-1)!==95||d.charCodeAt(l-2)!==95||d.charCodeAt(l-3)!==111||d.charCodeAt(l-4)!==116||d.charCodeAt(l-5)!==111||d.charCodeAt(l-6)!==114||d.charCodeAt(l-7)!==112||d.charCodeAt(l-8)!==95||d.charCodeAt(l-9)!==95)return!1;for(var m=l-10;m>=0;m--)if(d.charCodeAt(m)!==36)return!1;return!0}function p(d,l,m){var x=w(d.source,l.source);return x!==0||(x=d.originalLine-l.originalLine,x!==0)||(x=d.originalColumn-l.originalColumn,x!==0||m)||(x=d.generatedColumn-l.generatedColumn,x!==0)||(x=d.generatedLine-l.generatedLine,x!==0)?x:w(d.name,l.name)}b.compareByOriginalPositions=p;function v(d,l,m){var x=d.generatedLine-l.generatedLine;return x!==0||(x=d.generatedColumn-l.generatedColumn,x!==0||m)||(x=w(d.source,l.source),x!==0)||(x=d.originalLine-l.originalLine,x!==0)||(x=d.originalColumn-l.originalColumn,x!==0)?x:w(d.name,l.name)}b.compareByGeneratedPositionsDeflated=v;function w(d,l){return d===l?0:d===null?1:l===null?-1:d>l?1:-1}function A(d,l){var m=d.generatedLine-l.generatedLine;return m!==0||(m=d.generatedColumn-l.generatedColumn,m!==0)||(m=w(d.source,l.source),m!==0)||(m=d.originalLine-l.originalLine,m!==0)||(m=d.originalColumn-l.originalColumn,m!==0)?m:w(d.name,l.name)}b.compareByGeneratedPositionsInflated=A;function S(d){return JSON.parse(d.replace(/^\)]}'[^\n]*\n/,""))}b.parseSourceMapInput=S;function y(d,l,m){if(l=l||"",d&&(d[d.length-1]!=="/"&&l[0]!=="/"&&(d+="/"),l=d+l),m){var x=h(m);if(!x)throw new Error("sourceMapURL could not be parsed");if(x.path){var R=x.path.lastIndexOf("/");R>=0&&(x.path=x.path.substring(0,R+1))}l=n(g(x),l)}return c(l)}b.computeSourceURL=y},1461:(E,b,s)=>{s(8458).h,b.SourceMapConsumer=s(7094).SourceMapConsumer,s(2771)},1711:(E,b,s)=>{"use strict";s.r(b),s.d(b,{NIL:()=>I,parse:()=>l,stringify:()=>f,v1:()=>y,v3:()=>H,v4:()=>T,v5:()=>V,validate:()=>t,version:()=>j});var a=s(6113),o=s.n(a);const h=new Uint8Array(256);let g=h.length;function c(){return g>h.length-16&&(o().randomFillSync(h),g=0),h.slice(g,g+=16)}const n=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function e(L){return typeof L=="string"&&n.test(L)}const t=e,i=[];for(let L=0;L<256;++L)i.push((L+256).toString(16).slice(1));function r(L,D=0){return i[L[D+0]]+i[L[D+1]]+i[L[D+2]]+i[L[D+3]]+"-"+i[L[D+4]]+i[L[D+5]]+"-"+i[L[D+6]]+i[L[D+7]]+"-"+i[L[D+8]]+i[L[D+9]]+"-"+i[L[D+10]]+i[L[D+11]]+i[L[D+12]]+i[L[D+13]]+i[L[D+14]]+i[L[D+15]]}function u(L,D=0){const G=r(L,D);if(!t(G))throw TypeError("Stringified UUID is invalid");return G}const f=u;let p,v,w=0,A=0;function S(L,D,G){let X=D&&G||0;const Y=D||new Array(16);L=L||{};let q=L.node||p,z=L.clockseq!==void 0?L.clockseq:v;if(q==null||z==null){const Q=L.random||(L.rng||c)();q==null&&(q=p=[Q[0]|1,Q[1],Q[2],Q[3],Q[4],Q[5]]),z==null&&(z=v=(Q[6]<<8|Q[7])&16383)}let ee=L.msecs!==void 0?L.msecs:Date.now(),O=L.nsecs!==void 0?L.nsecs:A+1;const W=ee-w+(O-A)/1e4;if(W<0&&L.clockseq===void 0&&(z=z+1&16383),(W<0||ee>w)&&L.nsecs===void 0&&(O=0),O>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");w=ee,A=O,v=z,ee+=122192928e5;const K=((ee&268435455)*1e4+O)%4294967296;Y[X++]=K>>>24&255,Y[X++]=K>>>16&255,Y[X++]=K>>>8&255,Y[X++]=K&255;const Z=ee/4294967296*1e4&268435455;Y[X++]=Z>>>8&255,Y[X++]=Z&255,Y[X++]=Z>>>24&15|16,Y[X++]=Z>>>16&255,Y[X++]=z>>>8|128,Y[X++]=z&255;for(let Q=0;Q<6;++Q)Y[X+Q]=q[Q];return D||r(Y)}const y=S;function d(L){if(!t(L))throw TypeError("Invalid UUID");let D;const G=new Uint8Array(16);return G[0]=(D=parseInt(L.slice(0,8),16))>>>24,G[1]=D>>>16&255,G[2]=D>>>8&255,G[3]=D&255,G[4]=(D=parseInt(L.slice(9,13),16))>>>8,G[5]=D&255,G[6]=(D=parseInt(L.slice(14,18),16))>>>8,G[7]=D&255,G[8]=(D=parseInt(L.slice(19,23),16))>>>8,G[9]=D&255,G[10]=(D=parseInt(L.slice(24,36),16))/1099511627776&255,G[11]=D/4294967296&255,G[12]=D>>>24&255,G[13]=D>>>16&255,G[14]=D>>>8&255,G[15]=D&255,G}const l=d;function m(L){L=unescape(encodeURIComponent(L));const D=[];for(let G=0;G<L.length;++G)D.push(L.charCodeAt(G));return D}const x="6ba7b810-9dad-11d1-80b4-00c04fd430c8",R="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function M(L,D,G){function X(Y,q,z,ee){var O;if(typeof Y=="string"&&(Y=m(Y)),typeof q=="string"&&(q=l(q)),((O=q)===null||O===void 0?void 0:O.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let W=new Uint8Array(16+Y.length);if(W.set(q),W.set(Y,q.length),W=G(W),W[6]=W[6]&15|D,W[8]=W[8]&63|128,z){ee=ee||0;for(let K=0;K<16;++K)z[ee+K]=W[K];return z}return r(W)}try{X.name=L}catch{}return X.DNS=x,X.URL=R,X}function N(L){return Array.isArray(L)?L=Buffer.from(L):typeof L=="string"&&(L=Buffer.from(L,"utf8")),o().createHash("md5").update(L).digest()}const H=M("v3",48,N),_={randomUUID:o().randomUUID};function $(L,D,G){if(_.randomUUID&&!D&&!L)return _.randomUUID();L=L||{};const X=L.random||(L.rng||c)();if(X[6]=X[6]&15|64,X[8]=X[8]&63|128,D){G=G||0;for(let Y=0;Y<16;++Y)D[G+Y]=X[Y];return D}return r(X)}const T=$;function P(L){return Array.isArray(L)?L=Buffer.from(L):typeof L=="string"&&(L=Buffer.from(L,"utf8")),o().createHash("sha1").update(L).digest()}const V=M("v5",80,P),I="00000000-0000-0000-0000-000000000000";function C(L){if(!t(L))throw TypeError("Invalid UUID");return parseInt(L.slice(14,15),16)}const j=C},7786:E=>{E.exports=b;function b(s,a){if(s&&a)return b(s)(a);if(typeof s!="function")throw new TypeError("need wrapper function");return Object.keys(s).forEach(function(h){o[h]=s[h]}),o;function o(){for(var h=new Array(arguments.length),g=0;g<h.length;g++)h[g]=arguments[g];var c=s.apply(this,h),n=h[h.length-1];return typeof c=="function"&&c!==n&&Object.keys(n).forEach(function(e){c[e]=n[e]}),c}}},9336:E=>{"use strict";E.exports=require("aws-sdk")},4300:E=>{"use strict";E.exports=require("buffer")},6113:E=>{"use strict";E.exports=require("crypto")},7147:E=>{"use strict";E.exports=require("fs")},1017:E=>{"use strict";E.exports=require("path")},2781:E=>{"use strict";E.exports=require("stream")},3837:E=>{"use strict";E.exports=require("util")}},ne={};function k(E){var b=ne[E];if(b!==void 0)return b.exports;var s=ne[E]={id:E,loaded:!1,exports:{}};return oe[E](s,s.exports,k),s.loaded=!0,s.exports}k.n=E=>{var b=E&&E.__esModule?()=>E.default:()=>E;return k.d(b,{a:b}),b},k.d=(E,b)=>{for(var s in b)k.o(b,s)&&!k.o(E,s)&&Object.defineProperty(E,s,{enumerable:!0,get:b[s]})},k.o=(E,b)=>Object.prototype.hasOwnProperty.call(E,b),k.r=E=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(E,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(E,"__esModule",{value:!0})},k.nmd=E=>(E.paths=[],E.children||(E.children=[]),E);var re={};(()=>{"use strict";k.r(re),k.d(re,{handler:()=>e});var E=k(5049),b=k.n(E);const{v4:s}=k(1711),a=k(9336),o=new a.DynamoDB.DocumentClient,h=k(3553),{validateJWTToken:g}=k(6727),{notificationService:c}=k(9879);async function n(t,i){try{const{restaurant_id:r,cart:u,delivery_address:f}=JSON.parse(t.body),p=s(),v=new Date,w=[];u.map(async m=>{const x=t.companyProducts.find(M=>M.id===m.product_id);w.push({product_name:x?x.product_name:"",product_id:m.product_id,qty:m.qty,price:Number(x.selling_price)?Number(x.selling_price):0});const R={TableName:"ProductsTable",Key:{id:m.product_id},UpdateExpression:"set #qty = :qty",ExpressionAttributeValues:{":qty":Number(x.qty)-m.qty},ExpressionAttributeNames:{"#qty":"qty"},ReturnValues:"ALL_NEW"};await o.update(R).promise()});const A=w.map(m=>Number(m.price)).reduce((m,x)=>m+x),S=5*A/100,y={id:p,user_id:t.user.id,restaurant_id:r,delivery_address:f,total_price:A,tax_price:S,total_amount:A+S,cart:w,status:1,date:v.toISOString()},d=await o.put({TableName:"OrdersTable",Item:y}).promise(),l={TableName:"CartTable",Key:{id:p},UpdateExpression:"set #is_deleted = :is_deleted",ExpressionAttributeValues:{":is_deleted":!0},ExpressionAttributeNames:{"#is_deleted":"is_deleted"},ReturnValues:"ALL_NEW"};return await o.update(l).promise(),await c(1,JSON.stringify(d),t.user),{statusCode:201,body:JSON.stringify(d)}}catch(r){return{statusCode:500,body:JSON.stringify(r)}}}const e=h(n).use(g)})();var se=exports;for(var ie in re)se[ie]=re[ie];re.__esModule&&Object.defineProperty(se,"__esModule",{value:!0})})();

//# sourceMappingURL=createOrder.js.map